{
    "aic": [
    {
        "name": "build",
        "description": "Builds the given building",
        "version": {"min": "1.0c", "max": ""},
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "BuildingId",
            "type": "Op",
            "dir": "in",
            "range": "a BuildingId",
            "note": "The building that will be constructed."
        },{} ],
        "example": [ {
            "title": "Build an outpost if one can be built.",
            "data": "(defrule\r\n\t(can-build outpost)\r\n=&gt;\r\n\t(build outpost)\r\n)"
        } ],
        "related": ["up-build"]
    },{
        "name": "research",
        "description": "Add a technology to the research queue.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "TechId",
            "type": "Op",
            "dir": "in",
            "range": "a TechId",
            "note": "The technology that will be researched."
        },{} ],
        "example": [ {
            "title": "Research fletching without escrowed resources.",
            "data": "(defrule\r\n\t(can-research ri-fletching)\r\n=&gt;\r\n\t(research ri-fletching)\r\n)"
        } ],
        "related": ["up-research"]
    },{
        "name": "train",
        "description": "Add a unit to the training queue.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "UnitId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId",
            "note": "The unit that will be trained."
        },{} ],
        "example": [ {
            "title": "Train spearman-line with escrowed resources, using a goal.",
            "data": "(defconst gl-escrow-state 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(set-goal gl-escrow-state with-escrow)\r\n\t(disable-self)\r\n)\r\n(defrule\r\n\t(up-can-train gl-escrow-state c: spearman-line)\r\n=&gt;\r\n\t(up-train gl-escrow-state c: spearman-line)\r\n)"
        } ],
        "related": []
    },{
        "name": "up-compare-goal",
        "description": "Perform a comparison with a goal variable.",
        "version": {"min":"1.0c", "max":""},
        "note": "",
        "section": "Fact",
        "param": [ {
                "name": "Id",
                "type": "Goal",
                "dir": "in",
                "range": "a GoalId",
                "note": "The goal that will be compared."
            }, {
                "op": "compare"
            }, {
                "name": "Value",
                "type": "Op",
                "dir": "in",
                "range": "-32768 to 32767",
                "note": "A number for comparison."
            } 
        ],
        "example": [ {
            "title": "Check if the goal named &quot;gl-sheep-total&quot; stores a value &lt; 4.",
            "data": "(defconst gl-sheep-total 101)\r\n(defrule\r\n\t(up-compare-goal gl-sheep-total &lt; 4)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-compare-sn",
        "description": "Perform a comparison with a strategic number.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "name": "Id",
            "type": "Sn",
            "dir": "in",
            "range": "an SnId",
            "note": "The strategic number that will be compared."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if the strategic number named &quot;sn-maximum-town-size&quot; &gt; 40.",
            "data": "(defrule\r\n\t(up-compare-sn sn-maximum-town-size &gt; 40)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-compare-const",
        "description": "Perform a comparison with a constant value.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "name": "Id",
            "type": "Const",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The constant that will be compared."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if the const named &quot;feudal-villagers&quot; &gt;= 20.",
            "data": "(defconst feudal-villagers 30)\r\n(defrule\r\n\t(up-compare-const feudal-villagers &gt;= 20)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-resource-amount",
        "description": "Perform a comparison with an internal resource value.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "name": "ResourceAmount",
            "type": "Const",
            "dir": "in",
            "range": "a const from the ResourceAmount enumeration",
            "note": "The resource that will be compared."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if the AI is holding at least 1 relic.",
            "data": "(defrule\r\n\t(up-resource-amount amount-relics &gt;= 1)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-resource-percent",
        "description": "Perform a comparison with an internal resource value * 100.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "name": "ResourceAmount",
            "type": "Const",
            "dir": "in",
            "range": "a const from the ResourceAmount enumeration",
            "note": "The resource that will be compared."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check amount-tribute-inefficiency to see if coinage has been researched.",
            "data": "(defrule\r\n\t(up-resource-percent amount-tribute-inefficiency &lt; 30)\r\n=&gt;\r\n\t(chat-to-all &quot;Coinage has been researched.&quot;)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-allied-resource-amount",
        "description": "Perform a comparison with an ally's internal resource value.",
        "note": "",
        "section": "Fact",
        "param": [ {
                "name": "Ally",
                "type": "Player",
                "dir": "in",
                "range": "a PlayerId for: self, ally",
                "note": "The player(s) to check."
            }, {
                "name": "ResourceAmount",
                "type": "Const",
                "dir": "in",
                "range": "a const from the ResourceAmount enumeration",
                "note": "The resource that will be compared."
            }, {
                "op": "compare"
            }, {
                "name": "Value",
                "type": "Op",
                "dir": "in",
                "range": "-32768 to 32767",
                "note": "A number for comparison."
            } 
        ],
        "example": [ {
            "title": "Check if any ally's food &lt; 50.",
            "data": "(defrule\r\n\t(up-allied-resource-amount any-ally food &lt; 50)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-allied-resource-percent",
        "description": "Perform a comparison with an ally's internal resource value * 100.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "name": "Ally",
            "type": "Player",
            "dir": "in",
            "range": "a PlayerId for: self, ally",
            "note": "The player(s) to check."
        }, {
            "name": "ResourceAmount",
            "type": "Const",
            "dir": "in",
            "range": "a const from the ResourceAmount enumeration",
            "note": "The resource that will be compared."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check amount-tribute-inefficiency to see if coinage has been researched by an ally.",
            "data": "(defrule\r\n\t(up-allied-resource-percent any-ally amount-tribute-inefficiency &lt; 30)\r\n=&gt;\r\n\t(chat-to-all &quot;Coinage has been researched by an ally.&quot;)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-allied-goal",
        "description": "Perform a comparison with an allied AI's goal variable.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "name": "ComputerAlly",
            "type": "Player",
            "dir": "in",
            "range": "a PlayerId for: self, computer-ally",
            "note": "The player(s) to check."
        }, {
            "name": "Id",
            "type": "Goal",
            "dir": "in",
            "range": "a GoalId",
            "note": "The goal that will be compared."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if any ally has a goal with the same id as &quot;gl-sheep-total&quot; that stores a value &gt; 6.",
            "data": "(defconst gl-sheep-total 101)\r\n(defrule\r\n\t(up-allied-goal any-ally gl-sheep-total &gt; 6)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-allied-sn",
        "description": "Perform a comparison with an allied AI's strategic number.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "name": "ComputerAlly",
            "type": "Player",
            "dir": "in",
            "range": "a PlayerId for: self, computer-ally",
            "note": "The player(s) to check."
        }, {
            "name": "Id",
            "type": "Sn",
            "dir": "in",
            "range": "an SnId",
            "note": "The strategic number that will be compared."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if any ally has &quot;sn-maximum-town-size&quot; &gt;= 30.",
            "data": "(defrule\r\n\t(up-allied-sn any-ally sn-maximum-town-size &gt;= 30)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-can-research",
        "description": "Check if a technology can be researched with dynamic values.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "name": "EscrowState",
            "type": "Goal",
            "dir": "in",
            "range": "a goal set to with-escrow or without-escrow, or 0 for without-escrow",
            "note": "Determines whether escrowed resources are considered."
        }, {
            "op": "type"
        }, {
            "name": "TechId",
            "type": "Op",
            "dir": "in",
            "range": "a TechId",
            "note": "The technology that will be checked."
        } ],
        "example": [ {
            "title": "Check if fletching can be researched without escrowed resources.",
            "data": "(defrule\r\n\t(up-can-research 0 c: ri-fletching)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-can-train",
        "description": "Check if a unit can be trained with dynamic values.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "name": "EscrowState",
            "type": "Goal",
            "dir": "in",
            "range": "a goal set to with-escrow or without-escrow, or 0 for without-escrow",
            "note": "Determines whether escrowed resources are considered."
        }, {
            "op": "type"
        }, {
            "name": "UnitId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId",
            "note": "The unit that will be checked."
        } ],
        "example": [ {
            "title": "Check if spearman-line can be trained with escrowed resources, using a goal.",
            "data": "(defconst gl-escrow-state 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(set-goal gl-escrow-state with-escrow)\r\n\t(disable-self)\r\n)\r\n(defrule\r\n\t(up-can-train gl-escrow-state c: spearman-line)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-can-build",
        "description": "Check if a building can be constructed with dynamic values.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "name": "EscrowState",
            "type": "Goal",
            "dir": "in",
            "range": "a goal set to with-escrow or without-escrow, or 0 for without-escrow",
            "note": "Determines whether escrowed resources are considered."
        }, {
            "op": "type"
        }, {
            "name": "BuildingId",
            "type": "Op",
            "dir": "in",
            "range": "a BuildingId",
            "note": "The building that will be checked."
        } ],
        "example": [ {
            "title": "Check if an outpost can be built without escrowed resources.",
            "data": "(defrule\r\n\t(up-can-build 0 c: outpost)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-gaia-type-count",
        "description": "Check the current sighted resource count from gaia.",
        "note": "This command may be relatively slow, since it must check the status of all discovered resources within the requested subset (food, wood, stone, or gold).",
        "section": "Fact",
        "param": [ {
            "op": "type"
        }, {
            "name": "Resource",
            "type": "Const",
            "dir": "in",
            "range": "food, wood, stone, gold, or the UnitId of the resource",
            "note": "The resource to check."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if at least 4 sighted gold mines still exist.",
            "data": "(defrule\r\n\t(up-gaia-type-count c: gold &gt;= 4)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }, {
            "title": "Check if more than 6 sighted sheep or turkeys remain.",
            "data": "(defrule\r\n\t(up-gaia-type-count c: livestock-class &gt; 6) ; livestock-class = 958\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-gaia-type-count-total",
        "description": "Check the total sighted resource count from gaia.",
        "note": "When checking food, wood, stone, or gold, this command operates very quickly. However, the required data does not exist for specific food types, including deer and sheep. As a fallback, it will redirect to the slower up-gaia-type-count, and the result will only reflect resources that still exist.",
        "section": "Fact",
        "param": [ {
            "op": "type"
        }, {
            "name": "Resource",
            "type": "Const",
            "dir": "in",
            "range": "food, wood, stone, gold, or the UnitId of the resource",
            "note": "The resource to check."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if the AI has discovered over 100 trees, which may or may not still exist.",
            "data": "(defrule\r\n\t(up-gaia-type-count-total c: wood &gt; 100)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }, {
            "title": "Check if less than 2 sighted deer remain (redirect to up-gaia-type-count).",
            "data": "(defrule\r\n\t(up-gaia-type-count-total c: deer &lt; 2)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-object-type-count",
        "description": "Combine unit-type-count and building-type-count checks.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "op": "type"
        }, {
            "name": "ObjectId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId or BuildingId",
            "note": "The object to check."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if there are at least 10 existing villagers.",
            "data": "(defrule\r\n\t(up-object-type-count c: villager &gt;= 10)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-object-type-count-total",
        "description": "Combine unit-type-count-total and building-type-count-total checks.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "op": "type"
        }, {
            "name": "ObjectId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId or BuildingId",
            "note": "The object to check."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if there are more than 20 existing + pending villagers.",
            "data": "(defrule\r\n\t(up-object-type-count-total c: villager &gt; 20)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-pending-objects",
        "description": "Perform a comparison with the pending count of an object.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "op": "type"
        }, {
            "name": "ObjectId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId or BuildingId",
            "note": "The object to check."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if there is at least 1 house pending completion.",
            "data": "(defrule\r\n\t(up-pending-objects c: house &gt;= 1)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-pending-placement",
        "description": "Check if a specific type of building is waiting for placement.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "op": "type"
        }, {
            "name": "BuildingId",
            "type": "Op",
            "dir": "in",
            "range": "a BuildingId",
            "note": "The building to check."
        } ],
        "example": [ {
            "title": "Check if a barracks is waiting for placement on the map.",
            "data": "(defrule\r\n\t(up-pending-placement c: barracks)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-research-status",
        "description": "Check the research status of a specific technology.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "op": "type"
        }, {
            "name": "TechId",
            "type": "Op",
            "dir": "in",
            "range": "a TechId",
            "note": "The technology to check."
        }, {
            "op": "compare"
        }, {
            "name": "ResearchState",
            "type": "Op",
            "dir": "in",
            "range": "research-unavailable, research-available, research-pending, research-complete",
            "note": "The research status to compare with."
        } ],
        "example": [ {
            "title": "Check if loom is either being researched or already complete.",
            "data": "(defrule\r\n\t(up-research-status c: ri-loom &gt;= research-pending)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-timer-status",
        "description": "Check whether a timer is disabled, triggered, running, or a combination.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "name": "TimerId",
            "type": "Const",
            "dir": "in",
            "range": "a TimerId",
            "note": "The timer to check."
        }, {
            "op": "compare"
        }, {
            "name": "TimerState",
            "type": "Op",
            "dir": "in",
            "range": "timer-disabled, timer-triggered, timer-running",
            "note": "The timer status to compare with."
        } ],
        "example": [ {
            "title": "Check if the specified timer is disabled or triggered.",
            "data": "(defconst tm-gathering 1)\r\n(defrule\r\n\t(up-timer-status tm-gathering &lt;= timer-triggered)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }, {
            "title": "Check if the specified timer is running.",
            "data": "(defconst tm-gathering 1)\r\n(defrule\r\n\t(up-timer-status tm-gathering == timer-running)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-player-distance",
        "description": "Check the distance in tiles to the nearest building of another player.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "name": "Any",
            "type": "Player",
            "dir": "in",
            "range": "a PlayerId for: any",
            "note": "The player(s) to check."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if player 3 is less than 50 tiles away.",
            "data": "(defrule\r\n\t(up-player-distance 3 &lt; 50)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }, {
            "title": "Check if the dynamic &quot;focus-player&quot; is within &quot;gl-distance&quot; tiles.",
            "data": "(defconst gl-distance 101)\r\n(defrule\r\n\t(up-player-distance focus-player g:&lt; gl-distance)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }, {
            "title": "Check if any enemy is within 40 tiles.",
            "data": "(defrule\r\n\t(up-player-distance any-enemy &lt; 40)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-players-in-game",
        "description": "Check the number of active players in the game of the specified stance.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "name": "PlayerStance",
            "type": "Const",
            "dir": "in",
            "range": "any, ally, neutral, enemy",
            "note": "The stance of players to check."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if there are at least 2 allies with the AI for a team of 3.",
            "data": "(defrule\r\n\t(up-players-in-game ally &gt;= 3)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-enemy-buildings-in-town",
        "description": "Check the number of targetable enemy buildings in town.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if there is an enemy building inside sn-maximum-town-size.",
            "data": "(defrule\r\n\t(up-enemy-buildings-in-town &gt; 0)\r\n\t(enemy-buildings-in-town) ; this is equivalent\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-enemy-units-in-town",
        "description": "Check the number of targetable enemy units in town.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if there are more than 5 enemy units, except villagers, inside sn-maximum-town-size.",
            "data": "(defrule\r\n\t(up-enemy-units-in-town &gt; 5)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-enemy-villagers-in-town",
        "description": "Check the number of targetable enemy villagers in town.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if there are at least 2 enemy villagers inside sn-maximum-town-size.",
            "data": "(defrule\r\n\t(up-enemy-villagers-in-town &gt;= 2)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-defender-count",
        "description": "Check the number of units actively defending in town.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if the AI is actively defending its town with at least 10 units.",
            "data": "(defrule\r\n\t(up-defender-count &gt;= 10)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-projectile-detected",
        "description": "Check the elapsed time since a type of projectile was fired at the AI.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "name": "ProjectileType",
            "type": "Const",
            "dir": "in",
            "range": "a const from the ProjectileType enumeration",
            "note": "The source of the projectile to check."
        }, {
            "op": "compare"
        }, {
            "name": "ElapsedTime",
            "type": "Op",
            "dir": "in",
            "range": "a valid integer",
            "note": "The time in milliseconds."
        } ],
        "example": [ {
            "title": "Check if an enemy town center has attacked within the last 2 seconds.",
            "data": "(defrule\r\n\t(up-projectile-detected projectile-town-center &lt; 2000)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-attacker-class",
        "description": "Check the class of the last enemy object to trigger town-under-attack.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "op": "compare"
        }, {
            "name": "ClassId",
            "type": "Op",
            "dir": "in",
            "range": "900 to 999",
            "note": "The object class id to compare with."
        } ],
        "example": [ {
            "title": "Check if the town was last under attack by a ship.",
            "data": "(defrule\r\n\t(up-attacker-class == warship-class) ; warship-class = 922\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-modify-goal",
        "description": "Perform math operations on the value stored in a goal variable.",
        "note": "This command can be used as either a Fact or an Action.",
        "section": "Action",
        "param": [ {
            "name": "Id",
            "type": "Goal",
            "dir": "io",
            "range": "a GoalId",
            "note": "The goal that will be modified."
        }, {
            "op": "math"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The number that will be used in the operation."
        } ],
        "example": [ {
            "title": "Add 1 to the value stored in &quot;gl-sheep-total&quot;.",
            "data": "(defconst gl-sheep-total 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-modify-goal gl-sheep-total c:+ 1)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-modify-sn",
        "description": "Perform math operations on a strategic number.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "Id",
            "type": "Sn",
            "dir": "io",
            "range": "an SnId",
            "note": "The strategic number that will be modified."
        }, {
            "op": "math"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The number that will be used in the operation."
        } ],
        "example": [ {
            "title": "Subtract 2 from &quot;sn-maximum-town-size&quot;.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-modify-sn sn-maximum-town-size c:- 2)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-modify-escrow",
        "description": "Perform math operations to adjust escrowed resources.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "Resource",
            "type": "Const",
            "dir": "in",
            "range": "food, wood, stone, gold",
            "note": "The escrowed resource that will be modified."
        }, {
            "op": "math"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The number that will be used in the operation."
        } ],
        "example": [ {
            "title": "Set the escrow-amount for food directly to 100.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-modify-escrow food c:= 100)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-release-escrow",
        "description": "Set all escrow amounts to 0 with a single command.",
        "note": "",
        "section": "Action",
        "param": [],
        "example": [ {
            "title": "Release all escrowed resources.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-release-escrow)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }



    , {
        "name": "up-setup-cost-data",
        "description": "Set the goals to store cost data for food, wood, stone, and gold.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "ResetCost",
            "type": "Const",
            "dir": "in",
            "range": "0 or 1",
            "note": "If set to 1, the values of the provided goal set will be reset to 0."
        }, {
            "name": "Id",
            "type": "Goal",
            "dir": "io",
            "range": "an extended GoalId from 41 to 508",
            "note": "The first of 4 consecutive goals to store cost data for food, wood, stone, and gold."
        } ],
        "example": [ {
            "title": "Set gl-cost-food, gl-cost-wood, gl-cost-stone, and gl-cost-gold to store cost data and initialize them to 0.",
            "data": "(defconst gl-cost-food 101)\r\n(defconst gl-cost-wood 102)\r\n(defconst gl-cost-stone 103)\r\n(defconst gl-cost-gold 104)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-setup-cost-data 1 gl-cost-food)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-reset-cost-data",
        "description": "Reset 4 consecutive goals storing cost data to 0.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "Id",
            "type": "Goal",
            "dir": "out",
            "range": "an extended GoalId from 41 to 508",
            "note": "The first of 4 consecutive goals that store cost data for food, wood, stone, and gold."
        } ],
        "example": [ {
            "title": "Reset gl-cost-food, gl-cost-wood, gl-cost-stone, and gl-cost-gold to 0.",
            "data": "(defconst gl-cost-food 101)\r\n(defconst gl-cost-wood 102)\r\n(defconst gl-cost-stone 103)\r\n(defconst gl-cost-gold 104)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-reset-cost-data gl-cost-food)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-add-object-cost",
        "description": "Add or subtract objects of a specific type to the current cost data.",
        "note": "",
        "section": "Action",
        "param": [ {
            "op": "type"
        }, {
            "name": "ObjectId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId or BuildingId",
            "note": "The object to operate upon."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The number of objects to add or subtract."
        } ],
        "example": [ {
            "title": "Add the cost of 4 spearmen to the current cost data represented by gl-cost-food, etc.",
            "data": "(defconst gl-cost-food 101)\r\n(defconst gl-cost-wood 102)\r\n(defconst gl-cost-stone 103)\r\n(defconst gl-cost-gold 104)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-setup-cost-data 0 gl-cost-food)\r\n\t(up-add-object-cost c: spearman c: 4)\r\n\t(disable-self)\r\n)"
        }, {
            "title": "Add the cost of a town center (special exception).",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-add-object-cost c: town-center-foundation c: 1) ; town-center-foundation = 621\r\n\t;(up-add-object-cost c: town-center c: 1) ; error: this will not include the stone cost\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-add-research-cost",
        "description": "Add or subtract techs of a specific type to the current cost data.",
        "note": "",
        "section": "Action",
        "param": [ {
            "op": "type"
        }, {
            "name": "TechId",
            "type": "Op",
            "dir": "in",
            "range": "a TechId",
            "note": "The technology to operate upon."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The number of techs to add or subtract."
        } ],
        "example": [ {
            "title": "Subtract the cost of loom from the current cost data represented by gl-cost-food, etc.",
            "data": "(defconst gl-cost-food 101)\r\n(defconst gl-cost-wood 102)\r\n(defconst gl-cost-stone 103)\r\n(defconst gl-cost-gold 104)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-setup-cost-data 0 gl-cost-food)\r\n\t(up-add-research-cost c: ri-loom c: -1)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-add-cost-data",
        "description": "Add or subtract another set of cost data to the current cost data.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "Id",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 508",
            "note": "The first of 4 consecutive goals that store cost data for food, wood, stone, and gold."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The number of sets of the cost data to add or subtract."
        } ],
        "example": [ {
            "title": "Add 2 instances of the military cost data to the current cost data represented by gl-cost-food, etc.",
            "data": "(defconst gl-cost-food 101)\r\n(defconst gl-cost-wood 102)\r\n(defconst gl-cost-stone 103)\r\n(defconst gl-cost-gold 104)\r\n(defconst gl-military-cost-food 111)\r\n(defconst gl-military-cost-wood 112)\r\n(defconst gl-military-cost-stone 113)\r\n(defconst gl-military-cost-gold 114)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-setup-cost-data 1 gl-military-cost-food)\r\n\t(up-add-object-cost c: knight-line c: 40)\r\n\t(up-setup-cost-data 1 gl-cost-food)\r\n\t(up-add-cost-data gl-military-cost-food c: 2)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-get-cost-delta",
        "description": "Get the difference between player resources and the current cost data.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "Id",
            "type": "Goal",
            "dir": "out",
            "range": "an extended GoalId from 41 to 508",
            "note": "The first of 4 consecutive goals to store the cost delta for food, wood, stone, and gold."
        } ],
        "example": [ {
            "title": "Store the resource difference into the 4 goals starting with gl-delta-food.",
            "data": "(defconst gl-cost-food 101)\r\n(defconst gl-cost-wood 102)\r\n(defconst gl-cost-stone 103)\r\n(defconst gl-cost-gold 104)\r\n(defconst gl-delta-food 121)\r\n(defconst gl-delta-wood 122)\r\n(defconst gl-delta-stone 123)\r\n(defconst gl-delta-gold 124)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-setup-cost-data 1 gl-cost-food)\r\n\t(up-add-object-cost c: archer-line c: 10)\r\n\t(up-get-cost-delta gl-delta-food)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-drop-resources",
        "description": "Request a drop by gatherers carrying a specific number of a resource.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "Resource",
            "type": "Const",
            "dir": "in",
            "range": "food, wood, stone, gold, or the class id of the resource",
            "note": "The resource that will be dropped."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "0 to 32767",
            "note": "The minimum carried resources for a gatherer to drop."
        } ],
        "example": [ {
            "title": "Get all food gatherers carrying at least 15F to drop their resources.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-drop-resources food c: 15)\r\n\t(disable-self)\r\n)"
        }, {
            "title": "Get all farmers carrying at least 5F to drop their resources.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-drop-resources farm-class c: 5) ; farm-class = 949\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-retask-gatherers",
        "description": "Retask a specific number of villagers gathering from a resource.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "Resource",
            "type": "Const",
            "dir": "in",
            "range": "food, wood, stone, gold, or the class id of the resource",
            "note": "The resource that will be dropped."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "0 to 32767",
            "note": "The maximum number of gatherers to retask."
        } ],
        "example": [ {
            "title": "Request up to 3 lumberjacks to attempt to retask.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-retask-gatherers wood c: 3)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-request-hunters",
        "description": "Attempt to request support hunters for the active boar lure.",
        "note": "This only applies to boars that are lured with strategic numbers (not Direct Unit Control). It is not guaranteed to reach the total number of requested hunters.",
        "section": "Action",
        "param": [ {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "0 to 32767",
            "note": "The total number of hunters for the AI."
        } ],
        "example": [ {
            "title": "Request a total of 4 hunters to support the current lure.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-request-hunters c: 4)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-research",
        "description": "Add a technology to the research queue with dynamic values.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "EscrowState",
            "type": "Goal",
            "dir": "in",
            "range": "a goal set to with-escrow or without-escrow, or 0 for without-escrow",
            "note": "Determines whether escrowed resources are considered."
        }, {
            "op": "type"
        }, {
            "name": "TechId",
            "type": "Op",
            "dir": "in",
            "range": "a TechId",
            "note": "The technology that will be researched."
        } ],
        "example": [ {
            "title": "Research fletching without escrowed resources.",
            "data": "(defrule\r\n\t(up-can-research 0 c: ri-fletching)\r\n=&gt;\r\n\t(up-research 0 c: ri-fletching)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-train",
        "description": "Add a unit to the training queue with dynamic values.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "EscrowState",
            "type": "Goal",
            "dir": "in",
            "range": "a goal set to with-escrow or without-escrow, or 0 for without-escrow",
            "note": "Determines whether escrowed resources are considered."
        }, {
            "op": "type"
        }, {
            "name": "UnitId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId",
            "note": "The unit that will be trained."
        } ],
        "example": [ {
            "title": "Train spearman-line with escrowed resources, using a goal.",
            "data": "(defconst gl-escrow-state 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(set-goal gl-escrow-state with-escrow)\r\n\t(disable-self)\r\n)\r\n(defrule\r\n\t(up-can-train gl-escrow-state c: spearman-line)\r\n=&gt;\r\n\t(up-train gl-escrow-state c: spearman-line)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-build",
        "description": "Add a building to the construction queue with dynamic values.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "PlacementType",
            "type": "Const",
            "dir": "in",
            "range": "place-normal, place-forward, place-control, place-point",
            "note": "The type of placement. Execute up-set-placement-data before using place-control."
        }, {
            "name": "EscrowState",
            "type": "Goal",
            "dir": "in",
            "range": "a goal set to with-escrow or without-escrow, or 0 for without-escrow",
            "note": "Determines whether escrowed resources are considered."
        }, {
            "op": "type"
        }, {
            "name": "BuildingId",
            "type": "Op",
            "dir": "in",
            "range": "a BuildingId",
            "note": "The building that will be constructed."
        } ],
        "example": [ {
            "title": "Build an outpost without escrowed resources.",
            "data": "(defrule\r\n\t(up-can-build 0 c: outpost)\r\n=&gt;\r\n\t(up-build place-normal 0 c: outpost)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-assign-builders",
        "description": "Assign a specific number of builders to a building type or class.",
        "note": "",
        "section": "Action",
        "param": [ {
            "op": "type"
        }, {
            "name": "BuildingId",
            "type": "Op",
            "dir": "in",
            "range": "a BuildingId",
            "note": "The building to modify."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-1 to 250",
            "note": "The number of builders to assign or -1 to disable sending additional builders."
        } ],
        "example": [ {
            "title": "Assign at least 2 builders for houses (not per house).",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-assign-builders c: house c: 2)\r\n\t(disable-self)\r\n)"
        }, {
            "title": "Assign at least 4 builders for town centers (special exception).",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-assign-builders c: town-center-foundation c: 4) ; town-center-foundation = 621\r\n\t;(up-assign-builders c: town-center c: 4) ; error: this will not work\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-idle-unit-count",
        "description": "Check the number of idle units for the specified type.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "name": "IdleType",
            "type": "Const",
            "dir": "in",
            "range": "a const from the IdleType enumeration",
            "note": "The type of units that will be checked."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if there are more than 5 idle villagers.",
            "data": "(defrule\r\n\t(up-idle-unit-count idle-type-villager > 5)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-delete-idle-units",
        "description": "Delete all idle units of the specified type.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "IdleType",
            "type": "Const",
            "dir": "in",
            "range": "a const from the IdleType enumeration",
            "note": "The type of units that will be deleted."
        } ],
        "example": [ {
            "title": "Delete all idle villagers.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-delete-idle-units idle-type-villager)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-delete-objects",
        "description": "Delete all objects with less than the specified hitpoints.",
        "note": "",
        "section": "Action",
        "param": [ {
            "op": "type"
        }, {
            "name": "UnitId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId",
            "note": "The unit type that will be deleted."
        }, {
            "op": "type"
        }, {
            "name": "Hitpoints",
            "type": "Op",
            "dir": "in",
            "range": "0 to 32767",
            "note": "Units with less than this number of HP will be deleted."
        } ],
        "example": [ {
            "title": "Delete all walls owned by the player.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-delete-objects c: wall-class c: 32767) ; wall-class = 927\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-delete-distant-farms",
        "description": "Delete all farms that exist outside the specified drop distance.",
        "note": "",
        "section": "Action",
        "param": [ {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "0 to 255",
            "note": "The drop distance at which to begin deleting farms."
        } ],
        "example": [ {
            "title": "Delete farms where the &quot;dropsite-min-distance&quot; > 8.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-delete-distant-farms c: 8)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-set-placement-data",
        "description": "Specify placement information for managed construction.",
        "note": "Please ensure Player has at least a town-center to use for reference, if they don't have ObjectId. If Player has no objects left, placement will not work as expected.",
        "section": "Action",
        "param": [ {
            "name": "Ally",
            "type": "Player",
            "dir": "in",
            "range": "a single PlayerId for: self, this-any-ally",
            "note": "The player to focus upon."
        }, {
            "name": "ObjectId",
            "type": "Const",
            "dir": "in",
            "range": "a UnitId or BuildingId",
            "note": "The object that will be the focus for placement."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-254 to 254",
            "note": "The distance from the focus object to place using up-build + place-control. If a target enemy has been found, the distance shifts toward or away from the closest building of that target. Otherwise, the center of the map acts as the reference position."
        } ],
        "example": [ {
            "title": "Place 25 tiles behind the home town center.",
            "data": "(defrule\r\n\t(up-can-build 0 c: house)\r\n=&gt;\r\n\t(up-set-placement-data my-player-number -1 c: -25) ; home town center = -1\r\n\t(up-build place-control 0 c: house)\r\n)"
        }, {
            "title": "Place 2 tiles in front of the focus-player's latest lumber-camp.",
            "data": "(defrule\r\n\t(up-can-build 0 c: house)\r\n=&gt;\r\n\t(up-set-placement-data focus-player lumber-camp c: 2)\r\n\t(up-build place-control 0 c: house)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-reset-placement",
        "description": "Clear the placement list for the specified building type when blocked.",
        "note": "Please use with caution.",
        "section": "Action",
        "param": [ {
            "op": "type"
        }, {
            "name": "BuildingId",
            "type": "Op",
            "dir": "in",
            "range": "a BuildingId",
            "note": "The building type that will be reset."
        } ],
        "example": [ {
            "title": "Clear all pending barracks without a foundation.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-reset-placement c: barracks)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-get-threat-data",
        "description": "Get the elapsed time, player, source, and target of the last threat.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "ElapsedTime",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores the elapsed time."
        }, {
            "name": "PlayerId",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores the PlayerId of the attacker."
        }, {
            "name": "SourceClass",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores the class of the attacking object."
        }, {
            "name": "TargetClass",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores the class of the target of the attack."
        } ],
        "example": [ {
            "title": "Store the latest threat information from anywhere on the map.",
            "data": "(defconst gl-threat-time 101)\r\n(defconst gl-threat-player 102)\r\n(defconst gl-threat-source 103)\r\n(defconst gl-threat-target 104)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-threat-data gl-threat-time gl-threat-player gl-threat-source gl-threat-target)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-get-projectile-player",
        "description": "Get the enemy player that last attacked with a specific type of projectile.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "ProjectileType",
            "type": "Const",
            "dir": "in",
            "range": "a const from the ProjectileType enumeration",
            "note": "The source of the projectile."
        }, {
            "name": "PlayerId",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores the PlayerId of the attacker."
        } ],
        "example": [ {
            "title": "Store the last player to attack with castle arrows in gl-player.",
            "data": "(defconst gl-player 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-projectile-player projectile-castle gl-player)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-get-attacker-class",
        "description": "Get the class of the last enemy object to trigger town-under-attack.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "SourceClass",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores the class of the attacking object."
        } ],
        "example": [ {
            "title": "Store the class of the attacking object in gl-class.",
            "data": "(defconst gl-class 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-attacker-class gl-class)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-get-victory-data",
        "description": "Get standard victory status information into the provided goals.",
        "note": "",
        "section": "Action",
        "param": [{
            "name": "PlayerId",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores the PlayerId of the player approaching victory, or 0 if invalid."
        }, {
            "name": "type",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores one of the following: relic, wonder, monument, or 0 if invalid."
        }, {
            "name": "Time",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores 10 * the game years remaining until victory, or -1 if invalid."
        }],
        "example": [{
            "title": "Store current victory data into the provided goals.",
            "data": "(defconst gl-victory-player 101)\r\n(defconst gl-victory-type 102)\r\n(defconst gl-victory-time 103)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-victory-data gl-victory-player gl-victory-type gl-victory-time)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-get-victory-limit",
        "description": "Get the time or score victory limit into the provided goal.",
        "note": "",
        "section": "Action",
        "param": [{
            "name": "Limit",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores 10 * the remaining game years for time victory, the target amount for score victory, or -1 if invalid."
        }],
        "example": [{
            "title": "Store the current victory limit.",
            "data": "(defconst gl-victory-limit 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-victory-limit gl-victory-limit)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-find-player",
        "description": "Find the first active player based on the provided information.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "PlayerStance",
            "type": "Const",
            "dir": "in",
            "range": "any, ally, neutral, enemy",
            "note": "The stance of the player to find."
        }, {
            "name": "FindPlayerMethod",
            "type": "Const",
            "dir": "in",
            "range": "find-attacker, find-random, find-closest, find-ordered",
            "note": "The search method."
        }, {
            "name": "PlayerId",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores the PlayerId of the match."
        } ],
        "example": [ {
            "title": "Store the closest enemy player into gl-player.",
            "data": "(defconst gl-player 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-find-player enemy find-closest gl-player)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-find-next-player",
        "description": "Find the next active player based on the provided information.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "PlayerStance",
            "type": "Const",
            "dir": "in",
            "range": "any, ally, neutral, enemy",
            "note": "The stance of the player to find."
        }, {
            "name": "FindPlayerMethod",
            "type": "Const",
            "dir": "in",
            "range": "find-attacker, find-random, find-closest, find-ordered",
            "note": "The search method."
        }, {
            "name": "PlayerId",
            "type": "Goal",
            "dir": "io",
            "range": "a GoalId",
            "note": "Stores the PlayerId of the match, while providing the basis to begin the search."
        } ],
        "example": [ {
            "title": "Store the second closest enemy player into gl-player.",
            "data": "(defconst gl-player 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-find-player enemy find-closest gl-player)\r\n\t(up-find-next-player enemy find-closest gl-player)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-get-fact",
        "description": "Read a fact for my-player-number into a goal.",
        "note": "This command can be used as either a fact or an action.",
        "section": "Action",
        "param": [ {
            "name": "FactId",
            "type": "Const",
            "dir": "in",
            "range": "a const from the FactId enumeration",
            "note": "The fact to query."
        }, {
            "name": "Param",
            "type": "Const",
            "dir": "in",
            "range": "an appropriate parameter for the fact, or 0 if not required",
            "note": "A parameter for the fact."
        }, {
            "name": "Data",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores the result of the fact."
        } ],
        "example": [ {
            "title": "Store the military-population value into gl-data.",
            "data": "(defconst gl-data 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-fact military-population 0 gl-data)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-get-target-fact",
        "description": "Read a fact for the target-player into a goal.",
        "note": "This command can be used as either a fact or an action.",
        "section": "Action",
        "param": [ {
            "name": "FactId",
            "type": "Const",
            "dir": "in",
            "range": "a const from the FactId enumeration",
            "note": "The fact to query."
        }, {
            "name": "Param",
            "type": "Const",
            "dir": "in",
            "range": "an appropriate parameter for the fact, or 0 if not required",
            "note": "A parameter for the fact."
        }, {
            "name": "Data",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores the result of the fact."
        } ],
        "example": [ {
            "title": "Store the target military-population value into gl-data.",
            "data": "(defconst gl-data 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-target-fact military-population 0 gl-data)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-get-focus-fact",
        "description": "Read a fact for the focus-player into a goal.",
        "note": "This command can be used as either a fact or an action.",
        "section": "Action",
        "param": [ {
            "name": "FactId",
            "type": "Const",
            "dir": "in",
            "range": "a const from the FactId enumeration",
            "note": "The fact to query."
        }, {
            "name": "Param",
            "type": "Const",
            "dir": "in",
            "range": "an appropriate parameter for the fact, or 0 if not required",
            "note": "A parameter for the fact."
        }, {
            "name": "Data",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores the result of the fact."
        } ],
        "example": [ {
            "title": "Store the focus population value into gl-data.",
            "data": "(defconst gl-data 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-focus-fact population 0 gl-data)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-get-player-fact",
        "description": "Read a fact for a specific player into a goal.",
        "note": "This command can be used as either a fact or an action. For better performance, please use one of the more direct commands from the up-get-fact series whenever possible.",
        "section": "Action",
        "param": [ {
            "name": "Any",
            "type": "Player",
            "dir": "in",
            "range": "a single PlayerId for: self, this-any",
            "note": "The player to check."
        }, {
            "name": "FactId",
            "type": "Const",
            "dir": "in",
            "range": "a const from the FactId enumeration",
            "note": "The fact to query."
        }, {
            "name": "Param",
            "type": "Const",
            "dir": "in",
            "range": "an appropriate parameter for the fact, or 0 if not required",
            "note": "A parameter for the fact."
        }, {
            "name": "Data",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores the result of the fact."
        } ],
        "example": [ {
            "title": "Store the civilian-population value for player 2 into gl-data.",
            "data": "(defconst gl-data 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-player-fact 2 civilian-population 0 gl-data)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-get-fact-sum",
        "description": "Read the sum of facts for specific players into a goal.",
        "note": "This command can be used as either a fact or an action.",
        "section": "Action",
        "param": [ {
            "name": "Any",
            "type": "Player",
            "dir": "in",
            "range": "only an any-* wildcard PlayerId",
            "note": "The player to check."
        }, {
            "name": "FactId",
            "type": "Const",
            "dir": "in",
            "range": "a const from the FactId enumeration",
            "note": "The fact to query."
        }, {
            "name": "Param",
            "type": "Const",
            "dir": "in",
            "range": "an appropriate parameter for the fact, or 0 if not required",
            "note": "A parameter for the fact."
        }, {
            "name": "Data",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores the sum of the facts."
        } ],
        "example": [ {
            "title": "Store the sum of enemy military-population values into gl-data.",
            "data": "(defconst gl-data 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-fact-sum any-enemy military-population 0 gl-data)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-get-fact-min",
        "description": "Read the minimum value of the facts for specific players into a goal.",
        "note": "This command can be used as either a fact or an action. The matching player will be set to the this-any-* wildcard player id for use in the action section of the rule.",
        "section": "Action",
        "param": [ {
            "name": "Any",
            "type": "Player",
            "dir": "in",
            "range": "only an any-* wildcard PlayerId",
            "note": "The player to check."
        }, {
            "name": "FactId",
            "type": "Const",
            "dir": "in",
            "range": "a const from the FactId enumeration",
            "note": "The fact to query."
        }, {
            "name": "Param",
            "type": "Const",
            "dir": "in",
            "range": "an appropriate parameter for the fact, or 0 if not required",
            "note": "A parameter for the fact."
        }, {
            "name": "Data",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores the minimum value of the facts."
        } ],
        "example": [ {
            "title": "Store the minimum enemy score into gl-data.",
            "data": "(defconst gl-data 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-fact-min any-enemy current-score 0 gl-data)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-get-fact-max",
        "description": "Read the maximum value of the facts for specific players into a goal.",
        "note": "This command can be used as either a fact or an action. The matching player will be set to the this-any-* wildcard player id for use in the action section of the rule.",
        "section": "Action",
        "param": [ {
            "name": "Any",
            "type": "Player",
            "dir": "in",
            "range": "only an any-* wildcard PlayerId",
            "note": "The player to check."
        }, {
            "name": "FactId",
            "type": "Const",
            "dir": "in",
            "range": "a const from the FactId enumeration",
            "note": "The fact to query."
        }, {
            "name": "Param",
            "type": "Const",
            "dir": "in",
            "range": "an appropriate parameter for the fact, or 0 if not required",
            "note": "A parameter for the fact."
        }, {
            "name": "Data",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores the maximum value of the facts."
        } ],
        "example": [ {
            "title": "Store the maximum ally score into gl-data.",
            "data": "(defconst gl-data 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-fact-max any-ally current-score 0 gl-data)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-guard-unit",
        "description": "Set a single unit of a specific type to protect a random instance of another.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "ObjectId",
            "type": "Const",
            "dir": "in",
            "range": "a UnitId or BuildingId",
            "note": "The object that will be guarded."
        }, {
            "op": "type"
        }, {
            "name": "UnitId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId",
            "note": "The type of unit that will guard."
        } ],
        "example": [ {
            "title": "Set a single spearman to guard a random monk.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-guard-unit monk c: spearman-line)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-reset-unit",
        "description": "Halt the activity of all units of a specific type.",
        "note": "This is equivalent to clicking the &quot;stop&quot; button.",
        "section": "Action",
        "param": [ {
            "op": "type"
        }, {
            "name": "UnitId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId",
            "note": "The type of unit that will be stopped."
        } ],
        "example": [ {
            "title": "Stop all spearmen on the map.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-reset-unit c: spearman-line)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-reset-building",
        "description": "Halt the activity and research of all buildings of a specific type.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "PreserveResearch",
            "type": "Const",
            "dir": "in",
            "range": "0 or 1",
            "note": "If set to 1, buildings performing research will not be affected."
        }, {
            "op": "type"
        }, {
            "name": "BuildingId",
            "type": "Op",
            "dir": "in",
            "range": "a BuildingId",
            "note": "The type of building that will be reset."
        } ],
        "example": [ {
            "title": "Reset all activity at town centers, except those performing research.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-reset-building 1 c: town-center)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-reset-scouts",
        "description": "Halt and disband all soldier explore groups on land.",
        "note": "",
        "section": "Action",
        "param": [],
        "example": [ {
            "title": "Stop all scouts on land, after configuring the necessary strategic numbers.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(set-strategic-number sn-number-explore-groups 0)\r\n\t(set-strategic-number sn-total-number-explorers 0)\r\n\t(up-reset-scouts)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-send-scout",
        "description": "Send a land or water scout to a specific location.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "GroupType",
            "type": "Const",
            "dir": "in",
            "range": "a const from the GroupType enumeration",
            "note": "The type of explore group that will be tasked."
        }, {
            "name": "PositionType",
            "type": "Const",
            "dir": "in",
            "range": "a member of the PositionType enumeration",
            "note": "The scouting method."
        } ],
        "example": [ {
            "title": "Send a land scout to the opposite side of the map.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-send-scout group-type-land-explore scout-opposite)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-disband-group-type",
        "description": "Disband all internal groups of the specified type.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "GroupType",
            "type": "Const",
            "dir": "in",
            "range": "a const from the GroupType enumeration",
            "note": "The type of groups that will be disbanded."
        } ],
        "example": [ {
            "title": "Stop all land explore groups in a more direct manner.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(set-strategic-number sn-number-explore-groups 0)\r\n\t(set-strategic-number sn-total-number-explorers 0)\r\n\t(up-disband-group-type group-type-land-explore)\r\n\t(up-reset-unit c: all-units-class)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-set-attack-stance",
        "description": "Set the attack stance for all units of a specific type.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "UnitId",
            "type": "Const",
            "dir": "in",
            "range": "a UnitId",
            "note": "The unit that will be modified."
        }, {
            "op": "type"
        }, {
            "name": "AttackStance",
            "type": "Op",
            "dir": "in",
            "range": "stance-aggressive, stance-defensive, stance-stand-ground, stance-no-attack",
            "note": "The new attack stance for the specified units."
        } ],
        "example": [ {
            "title": "Set all spearmen to the &quot;stand-ground&quot; stance.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-set-attack-stance spearman-line c: stance-stand-ground)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-set-defense-priority",
        "description": "Set the defensive (TSA) targeting priority for a building.",
        "note": "This has no effect against units.",
        "section": "Action",
        "param": [ {
            "op": "type"
        }, {
            "name": "BuildingId",
            "type": "Op",
            "dir": "in",
            "range": "a BuildingId",
            "note": "The building that will be modified."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-1 to 32767, where -1 is the lowest priority",
            "note": "The priority to use with the defensive targeting system."
        } ],
        "example": [ {
            "title": "Increase the defensive priority for lumber camps to 1000.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-set-defense-priority c: lumber-camp c: 1000)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-set-offense-priority",
        "description": "Set the offensive targeting priority for an object.",
        "note": "",
        "section": "Action",
        "param": [ {
            "op": "type"
        }, {
            "name": "ObjectId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId or BuildingId",
            "note": "The object that will be modified."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-1 to 11, where -1 is the lowest priority",
            "note": "The priority to use with the offensive targeting system."
        } ],
        "example": [ {
            "title": "Increase the offensive priority for mining camps to 11.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-set-offense-priority c: mining-camp c: 11)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-reset-target-priorities",
        "description": "Reset or clear offensive or defensive targeting priorities.",
        "note": "Restore default priorities with 0. For defensive priorities, setting Mode to 1 will reset all to -1. For offensive priorities, unit types will be reset to 0, while classes will be -1.",
        "section": "Action",
        "param": [ {
            "name": "PriorityType",
            "type": "Const",
            "dir": "in",
            "range": "priority-offense, priority-defense",
            "note": "The targeting priority type to modify."
        }, {
            "name": "Mode",
            "type": "Const",
            "dir": "in",
            "range": "0 to 1",
            "note": "Determines the reset method."
        } ],
        "example": [ {
            "title": "Reset defensive priorities to default values.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-reset-target-priorities priority-defense 0)\r\n\t(disable-self)\r\n)"
        }, {
            "title": "Clear all offensive priorities (nothing has priority).",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-reset-target-priorities priority-offense 1)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-retreat-to",
        "description": "Retreat all units of a specific type to a random instance of another.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "ObjectId",
            "type": "Const",
            "dir": "in",
            "range": "a UnitId or BuildingId",
            "note": "The object that will be gather point of the retreat."
        }, {
            "op": "type"
        }, {
            "name": "UnitId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId",
            "note": "The type of units that will retreat."
        } ],
        "example": [ {
            "title": "Retreat all knights to a random castle, if possible.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-retreat-to castle c: knight-line)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-update-targets",
        "description": "Perform an immediate update for objects in town size.",
        "note": "",
        "section": "Action",
        "param": [],
        "example": [ {
            "title": "Retreat to the home town center after reducing town size.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(set-strategic-number sn-maximum-town-size 15)\r\n\t(up-update-targets)\r\n\t(up-retreat-now)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-retreat-now",
        "description": "Retreat all military units to the home town center.",
        "note": "",
        "section": "Action",
        "param": [],
        "example": [ {
            "title": "Retreat to the home town center.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-retreat-now)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-reset-attack-now",
        "description": "Reset the infinite targeting loop flag set by attack-now.",
        "note": "",
        "section": "Action",
        "param": [],
        "example": [ {
            "title": "Unset the attack-now flag for active groups.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-reset-attack-now)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-chat-data-to-self",
        "description": "Send a chat message with a formatted value locally.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "Format",
            "type": "Text",
            "dir": "in",
            "range": "quoted text, where %d is replaced by the provided value",
            "note": "A formatted quote of text that will be sent as a chat message."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The value that will replace %d in the format string of text."
        } ],
        "example": [ {
            "title": "Chat &quot;Food: 5.&quot; to self.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-chat-data-to-self &quot;Food: %d.&quot; c: 5)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-chat-data-to-player",
        "description": "Send a chat message with a formatted value to a player.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "Any",
            "type": "Player",
            "dir": "in",
            "range": "a PlayerId for: self, any, every",
            "note": "The player(s) that will receive the message."
        }, {
            "name": "Format",
            "type": "Text",
            "dir": "in",
            "range": "quoted text, where %d is replaced by the provided value",
            "note": "A formatted quote of text that will be sent as a chat message."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The value that will replace %d in the format string of text."
        } ],
        "example": [ {
            "title": "Tell every ally know who the current target player is.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-chat-data-to-player every-ally &quot;The target is player %d.&quot; s: sn-target-player-number)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-chat-data-to-all",
        "description": "Send a chat message with a formatted value to everyone.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "Format",
            "type": "Text",
            "dir": "in",
            "range": "quoted text, where %d is replaced by the provided value",
            "note": "A formatted quote of text that will be sent as a chat message."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The value that will replace %d in the format string of text."
        } ],
        "example": [ {
            "title": "Tell everyone what your player number is.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-chat-data-to-all &quot;I am player %d.&quot; c: my-player-number)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-cc-send-cheat",
        "description": "Send a message in order to execute a cheat code.",
        "note": "Cheats must be enabled for this to take effect.",
        "section": "Action",
        "param": [ {
            "name": "Code",
            "type": "Text",
            "dir": "in",
            "range": "quoted text",
            "note": "This must be a valid cheat code."
        } ],
        "example": [ {
            "title": "Create a saboteur unit using the &quot;to smithereens&quot; cheat code.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-cc-send-cheat &quot;to smithereens&quot;)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-remaining-boar-amount",
        "description": "Check the amount of food remaining on the current boar.",
        "note": "This data is only valid if the boar is lured with strategic numbers (not Direct Unit Control), while another boar is targetable and available to hunt. If this is not the case, it remains invalid (65535) to signify that this is the final boar.",
        "section": "Fact",
        "param": [ {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if there is less than 210 food remaining on the boar, while another boar exists.",
            "data": "(defrule\r\n\t(up-remaining-boar-amount &lt; 210) ; will be 65535 if invalid\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-gather-inside",
        "description": "Set all existing buildings of a specific type to hold units inside.",
        "note": "",
        "section": "Action",
        "param": [ {
            "op": "type"
        }, {
            "name": "BuildingId",
            "type": "Op",
            "dir": "in",
            "range": "a BuildingId",
            "note": "The type of building that will be modified."
        }, {
            "op": "type"
        }, {
            "name": "State",
            "type": "Op",
            "dir": "in",
            "range": "0, 1, or -1",
            "note": "If set to 1, both trained and garrisoned units will be held inside the building. If set to -1, only garrisoned units will be held inside. Otherwise, all units will be released as usual."
        } ],
        "example": [ {
            "title": "Set existing docks to keep ships inside while training, then release them once the AI has 10 warships.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-gather-inside c: dock c: 1)\r\n\t(disable-self)\r\n)\r\n(defrule\r\n\t(unit-type-count warship-class &gt;= 10) ; warship-class = 922\r\n=&gt;\r\n\t(up-gather-inside c: dock c: 0)\r\n)"
        }, {
            "title": "Prevent existing town centers from releasing garrisoned units, but allow villagers to be trained.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-gather-inside c: town-center c: -1)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-ungarrison",
        "description": "Request all objects of the specified type to ungarrison units.",
        "note": "",
        "section": "Action",
        "param": [ {
            "op": "type"
        }, {
            "name": "ObjectId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId or BuildingId",
            "note": "The type of object that will release garrisoned units."
        } ],
        "example": [ {
            "title": "Release all garrisoned units in docks.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-ungarrison c: dock)\r\n\t(disable-self)\r\n)"
        }, {
            "title": "Release all garrisoned units in battering rams.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-ungarrison c: battering-ram-line)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-garrison",
        "description": "Garrison all units of the specified type into another object.",
        "note": "The first parameter cannot be a class or a unit-line. It must be a valid root object type id that can accept a garrison (battering-ram instead of battering-ram-line).",
        "section": "Action",
        "param": [ {
            "name": "ObjectId",
            "type": "Const",
            "dir": "in",
            "range": "a UnitId or BuildingId",
            "note": "The type of object that will hold the units."
        }, {
            "op": "type"
        }, {
            "name": "UnitId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId",
            "note": "The type of unit that will be garrisoned."
        } ],
        "example": [ {
            "title": "Garrison all available infantry into battering rams.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-garrison battering-ram c: infantry-class) ; infantry-class = 906\r\n\t(disable-self)\r\n)"
        }, {
            "title": "Garrison all available archers into towers.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-garrison watch-tower c: archer-line)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-projectile-target",
        "description": "Check the class of the target of a projectile that was fired at the AI.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "name": "ProjectileType",
            "type": "Const",
            "dir": "in",
            "range": "a const from the ProjectileType enumeration",
            "note": "The source of the projectile to check."
        }, {
            "op": "compare"
        }, {
            "name": "ClassId",
            "type": "Op",
            "dir": "in",
            "range": "a ClassId",
            "note": "The class of the object that was targeted."
        } ],
        "example": [ {
            "title": "Check if an enemy town center has attacked an archery-class unit within the last 2 seconds.",
            "data": "(defrule\r\n\t(up-projectile-detected projectile-town-center &lt; 2000)\r\n\t(up-projectile-target projectile-town-center == archery-class) ; archery-class = 900\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-change-name",
        "description": "Change the name of the AI during gameplay.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "NewName",
            "type": "Text",
            "dir": "in",
            "range": "quoted text, no longer than 24 characters",
            "note": "A formatted quote of text that will be the new name."
        } ],
        "example": [ {
            "title": "Change the name of the AI to &quot;William Wallace&quot;.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-change-name &quot;William Wallace&quot;)\r\n\t(disable-self)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-building-type-in-town",
        "description": "Check the number of a specific enemy building type in town.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "op": "type"
        }, {
            "name": "BuildingId",
            "type": "Op",
            "dir": "in",
            "range": "a BuildingId",
            "note": "The type of building that will be checked."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if there is a targetable enemy barracks inside sn-maximum-town-size.",
            "data": "(defrule\r\n\t(up-building-type-in-town c: barracks &gt; 0)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-unit-type-in-town",
        "description": "Check the number of a specific enemy unit type in town.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "op": "type"
        }, {
            "name": "UnitId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId",
            "note": "The type of unit that will be checked."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if there is an enemy knight inside sn-maximum-town-size.",
            "data": "(defrule\r\n\t(up-unit-type-in-town c: knight-line &gt; 0)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-villager-type-in-town",
        "description": "Check the number of a specific enemy villager type in town.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "op": "type"
        }, {
            "name": "UnitId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId",
            "note": "The type of villager that will be checked."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if there is a targetable enemy gold miner inside sn-maximum-town-size.",
            "data": "(defrule\r\n\t(or\r\n\t\t(up-villager-type-in-town c: gold-miner-m &gt; 0) ; gold-miner-m = 579\r\n\t\t(up-villager-type-in-town c: gold-miner-f &gt; 0) ; gold-miner-f = 581\r\n\t)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-train-site-ready",
        "description": "Check if a unit's training site is ready and available.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "op": "type"
        }, {
            "name": "UnitId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId",
            "note": "The type of unit that will be checked."
        } ],
        "example": [ {
            "title": "Check if a dock is ready to train a fishing ship.",
            "data": "(defrule\r\n\t(up-train-site-ready c: fishing-ship)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-jump-rule",
        "description": "Jump forward or backward within the current rule set.",
        "note": "Never use this command where #load blocks may make your jump target unreliable. Please ensure that the rule you are jumping to actually exists. With this action, you can either decrease rules per pass with intelligent skips, or greatly increase it with loops. Please consider game performance.",
        "section": "Action",
        "param": [ {
            "name": "RuleDelta",
            "type": "Const",
            "dir": "in",
            "range": "the number of rules to jump",
            "note": "Positive values will jump forward, while negative values will jump backward."
        } ],
        "example": [ {
            "title": "Skip 1 rule if a condition is true.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-jump-rule 1)\r\n)\r\n(defrule ; this rule is skipped\r\n\t(true)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }, {
            "title": "Loop over a rule 3 times.",
            "data": "(defconst gl-value 100)\r\n(defrule\r\n\t(true)\r\n\t=>\r\n\t(chat-local-to-self &quot;Start&quot;)\r\n\t(set-goal gl-value 0)\r\n)\r\n(defrule\r\n\t(up-compare-goal gl-value < 3)\r\n\t=>\r\n\t(up-modify-goal gl-value c:+ 1)\r\n\t(up-jump-rule -1)\r\n)"
        } ],
        "related": []
    }

    , {
        "name": "up-get-point",
        "description": "Read a specific (x,y) position into an extended goal pair.",
        "note": "This command writes to 2 consecutive goals and requires an extended goal pair between 41 and 510. If it fails to get a valid position, it will return (-1,-1).",
        "section": "Action",
        "param": [ {
            "name": "PositionType",
            "type": "Const",
            "dir": "in",
            "range": "a member of the PositionType enumeration",
            "note": "The position to read."
        }, {
            "name": "Point",
            "type": "Goal",
            "dir": "out",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to store the (x,y) pair."
        } ],
        "example": [ {
            "title": "Get the position of the map center.",
            "data": "(defconst gl-point-x 100)\r\n(defconst gl-point-y 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-center gl-point-x)\r\n)"
        }, {
            "title": "Get the position of the target player.",
            "data": "(defconst gl-point-x 100)\r\n(defconst gl-point-y 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-target gl-point-x)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-add-point",
        "description": "Add or subtract two point goal pairs together.",
        "note": "A negative value for Count will result in subtraction. Set Point2 to 0 to use the point that is stored by up-set-target-point.",
        "section": "Action",
        "param": [ {
            "name": "Point1",
            "type": "Goal",
            "dir": "io",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to store the (x,y) pair."
        }, {
            "name": "Point2",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "op": "type"
        }, {
            "name": "Count",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The number of Point2 instances to add. Point2 will be multiplied by this before adding. A negative value will result in subtraction."
        } ],
        "example": [ {
            "title": "Add the positions of the focus and target players together.",
            "data": "(defconst gl-point-x 100)\r\n(defconst gl-point-y 101)\r\n(defconst gl-other-x 200)\r\n(defconst gl-other-y 201)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-focus gl-point-x)\r\n\t(up-get-point position-target gl-other-x)\r\n\t(up-add-point gl-point-x gl-other-x c: 1)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-lerp-percent",
        "description": "Interpolate a point by percentage between two point goal pairs.",
        "note": "A negative value for Percent will result in subtraction. Set Point2 to 0 to use the point that is stored by up-set-target-point.",
        "section": "Action",
        "param": [ {
            "name": "Point1",
            "type": "Goal",
            "dir": "io",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to store the (x,y) pair."
        }, {
            "name": "Point2",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "op": "type"
        }, {
            "name": "Percent",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The percent between the two points to select."
        } ],
        "example": [ {
            "title": "Get the point at 25% from the home town-center to the map center.",
            "data": "(defconst gl-point-x 100)\r\n(defconst gl-point-y 101)\r\n(defconst gl-center-x 200)\r\n(defconst gl-center-y 201)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-self gl-point-x)\r\n\t(up-get-point position-center gl-center-x)\r\n\t(up-lerp-percent gl-point-x gl-center-x c: 25)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-lerp-tiles",
        "description": "Interpolate a point by tiles between two point goal pairs.",
        "note": "A negative value for Tiles will result in subtraction. Set Point2 to 0 to use the point that is stored by up-set-target-point.",
        "section": "Action",
        "param": [ {
            "name": "Point1",
            "type": "Goal",
            "dir": "io",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to store the (x,y) pair."
        }, {
            "name": "Point2",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "op": "type"
        }, {
            "name": "Tiles",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The number of tiles to move along the vector."
        } ],
        "example": [ {
            "title": "Get the point 10 tiles toward the map center from the home town-center.",
            "data": "(defconst gl-point-x 100)\r\n(defconst gl-point-y 101)\r\n(defconst gl-center-x 200)\r\n(defconst gl-center-y 201)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-self gl-point-x)\r\n\t(up-get-point position-center gl-center-x)\r\n\t(up-lerp-tiles gl-point-x gl-center-x c: 10)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-cross-tiles",
        "description": "Get a point perpendicular to two point goal pairs.",
        "note": "A negative value for Tiles will result in subtraction. Set Point2 to 0 to use the point that is stored by up-set-target-point.",
        "section": "Action",
        "param": [ {
            "name": "Point1",
            "type": "Goal",
            "dir": "io",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to store the (x,y) pair."
        }, {
            "name": "Point2",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "op": "type"
        }, {
            "name": "Tiles",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The number of tiles to move along the vector."
        } ],
        "example": [ {
            "title": "Get the point 10 tiles right of the home town-center relative to the map center.",
            "data": "(defconst gl-point-x 100)\r\n(defconst gl-point-y 101)\r\n(defconst gl-center-x 200)\r\n(defconst gl-center-y 201)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-self gl-point-x)\r\n\t(up-get-point position-center gl-center-x)\r\n\t(up-cross-tiles gl-point-x gl-center-x c: 10)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-copy-point",
        "description": "Copy one point goal pair into another pair of extended goals.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "Point1",
            "type": "Goal",
            "dir": "out",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to store the (x,y) pair."
        }, {
            "name": "Point2",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        } ],
        "example": [ {
            "title": "Copy the position of the map center.",
            "data": "(defconst gl-point-x 100)\r\n(defconst gl-point-y 101)\r\n(defconst gl-other-x 200)\r\n(defconst gl-other-y 201)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-center gl-point-x)\r\n\t(up-copy-point gl-other-x gl-point-x)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-set-target-point",
        "description": "Set the target point for other commands with an extended goal pair.",
        "note": "This command will also safely bound the point inside the map.",
        "section": "Action",
        "param": [{
            "name": "Point",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to store the (x,y) pair."
        }],
        "example": [{
            "title": "Set the target point to the map center.",
            "data": "(defconst gl-point-x 100)\r\n(defconst gl-point-y 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-center gl-point-x)\r\n\t(up-set-target-point gl-point-x)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-set-precise-target-point",
        "description": "Set the target point with an unchecked extended goal pair.",
        "note": "This command is identical to up-set-target-point, except it will not bound the point inside the map. Please ensure the point is valid with up-bound-precise-point. A precise point is expected to be a normal point x100 for 2 places of decimal precision.",
        "section": "Action",
        "param": [{
            "name": "Point",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to store the (x,y) pair."
        }],
        "example": [{
            "title": "Set the target point to the precise map center.",
            "data": "(defconst gl-point-x 100)\r\n(defconst gl-point-y 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-center gl-point-x)\r\n\t(up-modify-goal gl-point-x c:* 100)\r\n\t(up-modify-goal gl-point-y c:* 100)\r\n\t(up-set-precise-target-point gl-point-x)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-get-point-distance",
        "description": "Get the distance between two point goal pairs.",
        "note": "Set Point2 to 0 to use the point that is stored by up-set-target-point.",
        "section": "Action",
        "param": [ {
            "name": "Point1",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "name": "Point2",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "name": "Distance",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores the distance between the two points."
        } ],
        "example": [ {
            "title": "Get the distance from the home town-center to the map center.",
            "data": "(defconst gl-self-x 100)\r\n(defconst gl-self-y 101)\r\n(defconst gl-center-x 200)\r\n(defconst gl-center-y 201)\r\n(defconst gl-distance 300)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-self gl-self-x)\r\n\t(up-get-point position-center gl-center-x)\r\n\t(up-get-point-distance gl-self-x gl-center-x gl-distance)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-point-distance",
        "description": "Perform a distance check between two point goal pairs.",
        "note": "Set Point2 to 0 to use the point that is stored by up-set-target-point.",
        "section": "Fact",
        "param": [ {
            "name": "Point1",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "name": "Point2",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if the distance from the home town-center to the map center is greater than 5.",
            "data": "(defconst gl-self-x 100)\r\n(defconst gl-self-y 101)\r\n(defconst gl-center-x 200)\r\n(defconst gl-center-y 201)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-self gl-self-x)\r\n\t(up-get-point position-center gl-center-x)\r\n)\r\n(defrule\r\n\t(up-point-distance gl-self-x gl-center-x > 5)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-get-point-terrain",
        "description": "Get the terrain id at a specific point goal pair position.",
        "note": "Set Point to 0 to use the point that is stored by up-set-target-point.",
        "section": "Action",
        "param": [ {
            "name": "Point",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "name": "Terrain",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores the terrain id at the position."
        } ],
        "example": [ {
            "title": "Get the terrain id at the map center.",
            "data": "(defconst gl-center-x 100)\r\n(defconst gl-center-y 101)\r\n(defconst gl-terrain 200)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-center gl-center-x)\r\n\t(up-get-point-terrain gl-center-x gl-terrain)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-point-terrain",
        "description": "Perform a terrain id check at a point goal pair position.",
        "note": "Set Point to 0 to use the point that is stored by up-set-target-point.",
        "section": "Fact",
        "param": [ {
            "name": "Point",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "op": "compare"
        }, {
            "name": "Terrain",
            "type": "Op",
            "dir": "in",
            "range": "0 to 41",
            "note": "A terrain id for comparison."
        } ],
        "example": [ {
            "title": "Check if the terrain at the map center is grass.",
            "data": "(defconst gl-center-x 100)\r\n(defconst gl-center-y 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-center gl-center-x)\r\n)\r\n(defrule\r\n\t(up-point-terrain gl-center-x == terrain-grass)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-point-contains",
        "description": "Check if an object exists at a point goal pair position.",
        "note": "Set Point to 0 to use the point that is stored by up-set-target-point. Please note that when used with all-units-class (-1), this may capture unexpected objects like birds flying over a tile, terrain plants, etc.",
        "section": "Fact",
        "param": [ {
            "name": "Point",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "op": "type"
        }, {
            "name": "ObjectId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId or BuildingId",
            "note": "The object to check."
        } ],
        "example": [ {
            "title": "Check if a tree exists at the map center.",
            "data": "(defconst gl-center-x 100)\r\n(defconst gl-center-y 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-center gl-center-x)\r\n)\r\n(defrule\r\n\t(up-point-contains gl-center-x c: tree-class) ; tree-class = 915\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-find-flare",
        "description": "Read the (x,y) position of an allied flare into an extended goal pair.",
        "note": "This command writes to 2 consecutive goals and requires an extended goal pair between 41 and 510. If it fails to get a valid position, it will return (-1,-1). This command is equivalent to up-find-player-flare with any-ally.",
        "section": "Action",
        "param": [ {
            "name": "Point",
            "type": "Goal",
            "dir": "out",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to store the (x,y) pair."
        } ],
        "example": [ {
            "title": "Get the position of the latest ally flare.",
            "data": "(defconst gl-point-x 100)\r\n(defconst gl-point-y 101)\r\n(defrule\r\n\t(unit-type-count flare > 0) ; flare = 274\r\n=&gt;\r\n\t(up-find-flare gl-point-x)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-find-player-flare",
        "description": "Read the (x,y) position of any visible flare into an extended goal pair.",
        "note": "This command writes to 2 consecutive goals and requires an extended goal pair between 41 and 510. If it fails to get a valid position, it will return (-1,-1).",
        "section": "Action",
        "param": [ {
            "name": "Any",
            "type": "Player",
            "dir": "in",
            "range": "a PlayerId for: any",
            "note": "The player(s) to check."
        }, {
            "name": "Point",
            "type": "Goal",
            "dir": "out",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to store the (x,y) pair."
        } ],
        "example": [ {
            "title": "Get the position of any enemy flare.",
            "data": "(defconst gl-point-x 100)\r\n(defconst gl-point-y 101)\r\n(defrule\r\n\t(unit-type-count flare > 0) ; flare = 274\r\n=&gt;\r\n\t(up-find-player-flare any-enemy gl-point-x)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-send-flare",
        "description": "Send a flare to allies from a point goal pair.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "Point",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to read the (x,y) pair."
        } ],
        "example": [ {
            "title": "Send a flare to allies at your target position.",
            "data": "(defconst gl-point-x 100)\r\n(defconst gl-point-y 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-target gl-point-x)\r\n\t(up-send-flare gl-point-x)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-get-search-state",
        "description": "Get the search state into 4 consecutive extended goals.",
        "note": "The goals will be filled with data in the following order: current local search total, last local search count, current remote search total, last remote search count.",
        "section": "Action",
        "param": [ {
            "name": "State",
            "type": "Goal",
            "dir": "out",
            "range": "an extended GoalId from 41 to 508",
            "note": "The first of 4 consecutive goals to read the state."
        } ],
        "example": [ {
            "title": "Get the search state.",
            "data": "(defconst gl-local-total 100)\r\n(defconst gl-local-last 101)\r\n(defconst gl-remote-total 102)\r\n(defconst gl-remote-last 103)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-search-state gl-local-total)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-reset-search",
        "description": "Reset the search state for the direct unit targeting system.",
        "note": "",
        "section": "Action",
        "param": [ {
            "name": "LocalIndex",
            "type": "Const",
            "dir": "in",
            "range": "0 or 1",
            "note": "Set to 1 to clear the offset into the list of local objects to search."
        }, {
            "name": "LocalList",
            "type": "Const",
            "dir": "in",
            "range": "0 or 1",
            "note": "Set to 1 to clear the local object list from previous searches."
        }, {
            "name": "RemoteIndex",
            "type": "Const",
            "dir": "in",
            "range": "0 or 1",
            "note": "Set to 1 to clear the offset into the list of remote objects to search."
        }, {
            "name": "RemoteList",
            "type": "Const",
            "dir": "in",
            "range": "0 or 1",
            "note": "Set to 1 to clear the remote object list from previous searches."
        } ],
        "example": [ {
            "title": "Clear all search states.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-reset-search 1 1 1 1)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-reset-filters",
        "description": "Reset search indices and filter states for direct unit targeting.",
        "note": "All filter states will be set to -1. Use up-reset-search to clear search results.",
        "section": "Action",
        "param": [],
        "example": [{
            "title": "Clear search indices and filter states.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-reset-filters)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-full-reset-search",
        "description": "Reset all search and filter states for direct unit targeting.",
        "note": "This command simply combines (up-reset-search 1 1 1 1) and (up-reset-filters) for rule size optimization.",
        "section": "Action",
        "param": [],
        "example": [{
            "title": "Clear all search and filter states.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-full-reset-search)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-filter-include",
        "description": "Set include parameters for the direct targeting system.",
        "note": "If any of these parameters is set to -1, then the associated condition will be ignored during search filtering.",
        "section": "Action",
        "param": [ {
            "name": "CmdId",
            "type": "Const",
            "dir": "in",
            "range": "-1 to 10",
            "note": "The command id to select."
        }, {
            "name": "ActionId",
            "type": "Const",
            "dir": "in",
            "range": "-1, 600 to 699",
            "note": "The action id to select."
        }, {
            "name": "OrderId",
            "type": "Const",
            "dir": "in",
            "range": "-1, 700 to 799",
            "note": "The order id to select."
        }, {
            "name": "OnMainland",
            "type": "Const",
            "dir": "in",
            "range": "-1, 0, or 1",
            "note": "If set to 1, select only objects on the mainland. If set to 0, select those not on the mainland."
        } ],
        "example": [ {
            "title": "Configure the search system to only select units with the villager command id.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-filter-include 3 -1 -1 -1)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-filter-exclude",
        "description": "Set exclude parameters for the direct targeting system.",
        "note": "If any of these parameters is set to -1, then the associated condition will be ignored during search filtering.",
        "section": "Action",
        "param": [ {
            "name": "CmdId",
            "type": "Const",
            "dir": "in",
            "range": "-1 to 10",
            "note": "The command id to reject."
        }, {
            "name": "ActionId",
            "type": "Const",
            "dir": "in",
            "range": "-1, 600 to 699",
            "note": "The action id to reject."
        }, {
            "name": "OrderId",
            "type": "Const",
            "dir": "in",
            "range": "-1, 700 to 799",
            "note": "The order id to reject."
        }, {
            "name": "ClassId",
            "type": "Const",
            "dir": "in",
            "range": "a valid ClassId",
            "note": "Reject units of the specified class."
        } ],
        "example": [ {
            "title": "Configure the search system to reject units with the trade command id.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-filter-exclude 5 -1 -1 -1)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-filter-range",
        "description": "Set range parameters for the direct targeting system.",
        "note": "If any of these parameters is set to -1, then the associated condition will be ignored during search filtering.",
        "section": "Action",
        "param": [ {
            "name": "MinGarrison",
            "type": "Const",
            "dir": "in",
            "range": "-1 to 32767",
            "note": "The minimum acceptable value for objects garrisoned."
        }, {
            "name": "MaxGarrison",
            "type": "Const",
            "dir": "in",
            "range": "-1 to 32767",
            "note": "The maximum acceptable value for objects garrisoned."
        }, {
            "name": "MinDistance",
            "type": "Const",
            "dir": "in",
            "range": "-1 to 32767",
            "note": "The minimum acceptable distance from the point specified by up-set-target-point."
        }, {
            "name": "MaxDistance",
            "type": "Const",
            "dir": "in",
            "range": "-1 to 32767",
            "note": "The maximum acceptable distance from the point specified by up-set-target-point."
        } ],
        "example": [ {
            "title": "Configure the search system to only select units within 10 tiles of the target point.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-filter-range -1 -1 -1 10)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-filter-distance",
        "description": "Set distance parameters for the direct targeting system.",
        "note": "If any of these parameters is set to -1, then the associated condition will be ignored during search filtering.",
        "section": "Action",
        "param": [ {
            "op": "type"
        }, {
            "name": "MinDistance",
            "type": "Op",
            "dir": "in",
            "range": "-1 to 32767",
            "note": "The minimum acceptable distance from the point specified by up-set-target-point."
        }, {
            "op": "type"
        }, {
            "name": "MaxDistance",
            "type": "Op",
            "dir": "in",
            "range": "-1 to 32767",
            "note": "The maximum acceptable distance from the point specified by up-set-target-point."
        } ],
        "example": [ {
            "title": "Configure the search system to only select units within 10 tiles of the target point.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-filter-distance c: -1 c: 10)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-filter-garrison",
        "description": "Set garrison parameters for the direct targeting system.",
        "note": "If any of these parameters is set to -1, then the associated condition will be ignored during search filtering.",
        "section": "Action",
        "param": [ {
            "op": "type"
        }, {
            "name": "MinGarrison",
            "type": "Op",
            "dir": "in",
            "range": "-1 to 32767",
            "note": "The minimum acceptable value for objects garrisoned."
        }, {
            "op": "type"
        }, {
            "name": "MaxGarrison",
            "type": "Op",
            "dir": "in",
            "range": "-1 to 32767",
            "note": "The maximum acceptable value for objects garrisoned."
        } ],
        "example": [ {
            "title": "Configure the search system to only select units with at least 5 garrisoned units.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-filter-garrison c: 5 c: -1)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-target-point",
        "description": "Direct local search results to a specific point on the map.",
        "note": "This command can perform all actions from the TargetAction enumeration. However, action-default, action-guard, action-follow, and action-garrison will perform as action-move. If you wish to action-move back into formation nearby after attacking, please action-move to -1,-1 to reset distance.",
        "section": "Action",
        "param": [ {
            "name": "Point",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "name": "Action",
            "type": "Const",
            "dir": "in",
            "range": "a value from the TargetAction enumeration",
            "note": "The action to perform with the selected units."
        }, {
            "name": "Formation",
            "type": "Const",
            "dir": "in",
            "range": "-1, formation-line, formation-box, formation-stagger, or formation-flank",
            "note": "The formation to set or -1 to do nothing."
        }, {
            "name": "AttackStance",
            "type": "Const",
            "dir": "in",
            "range": "-1, stance-aggressive, stance-defensive, stance-stand-ground, or stance-no-attack",
            "note": "The stance to set or -1 to do nothing."
        } ],
        "example": [ {
            "title": "Send selected units from up-find-local to the map center.",
            "data": "(defconst gl-point-x 100)\r\n(defconst gl-point-y 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-center gl-point-x)\r\n\t(up-target-point gl-point-x action-default -1 -1)\r\n)"
        }, {
            "title": "Train a spearman with action-train: (up-target-point inGoalEscrowState action-train typeOp inOpTypeId). The value for inGoalEscrowState must be either 0 for without-escrow or an extended goal from 41-510.",
            "data": "(defrule\r\n\t(up-find-local c: barracks c: 1)\r\n=&gt;\r\n\t(up-target-point 0 action-train c: spearman)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-target-objects",
        "description": "Direct local search results against remote search results.",
        "note": "The action-default command is equivalent to a right-click. This command can only perform the following actions: action-default, action-move, action-patrol, action-guard, action-follow, action-stop, action-ground, action-garrison, action-delete, action-gather, and action-none.",
        "section": "Action",
        "param": [ {
            "name": "Target",
            "type": "Const",
            "dir": "in",
            "range": "0 or 1",
            "note": "Set to 1 to target only the object set by up-set-target-object."
        }, {
            "name": "Action",
            "type": "Const",
            "dir": "in",
            "range": "action-default, action-move, action-patrol, action-guard, action-follow, action-stop, action-ground, action-garrison, action-delete, action-gather, action-none",
            "note": "The action to perform with the selected units."
        }, {
            "name": "Formation",
            "type": "Const",
            "dir": "in",
            "range": "-1, formation-line, formation-box, formation-stagger, or formation-flank",
            "note": "The formation to set or -1 to do nothing."
        }, {
            "name": "AttackStance",
            "type": "Const",
            "dir": "in",
            "range": "-1, stance-aggressive, stance-defensive, stance-stand-ground, or stance-no-attack",
            "note": "The stance to set or -1 to do nothing."
        } ],
        "example": [ {
            "title": "Patrol selected units from up-find-local against those from up-find-remote.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-target-objects 0 action-patrol -1 -1)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-find-local",
        "description": "Find objects owned by the local player for direct targeting.",
        "note": "If UnitId changes, the search index offset will be reset. Otherwise, it will continue from where it left off. This command can be used as either a Fact or an Action.",
        "section": "Action",
        "param": [ {
            "op": "type"
        }, {
            "name": "UnitId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId",
            "note": "The unit type that will be selected."
        }, {
            "op": "type"
        }, {
            "name": "Count",
            "type": "Op",
            "dir": "in",
            "range": "0 to 240",
            "note": "The number of results to find."
        } ],
        "example": [ {
            "title": "Find up to 20 infantry units owned by the player.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-find-local c: infantry-class c: 20) ; infantry-class = 906\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-find-remote",
        "description": "Find objects owned by the focus player for direct targeting.",
        "note": "Set sn-focus-player-number before using this command. If the focus or UnitId changes, the search index offset will be reset. Otherwise, it will continue from where it left off. This command can be used as either a Fact or an Action.",
        "section": "Action",
        "param": [ {
            "op": "type"
        }, {
            "name": "UnitId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId",
            "note": "The unit type that will be selected."
        }, {
            "op": "type"
        }, {
            "name": "Count",
            "type": "Op",
            "dir": "in",
            "range": "0 to 40",
            "note": "The number of results to find."
        } ],
        "example": [ {
            "title": "Find up to 4 castles owned by the enemy, player 2.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(set-strategic-number sn-focus-player-number 2)\r\n\t(up-find-remote c: castle c: 4)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-set-target-object",
        "description": "Set the target object for other commands from your search.",
        "note": "Reference it with up-get-point and position-object. If the Index is invalid, the current target object will remain unchanged. This command can be used as either a Fact or an Action.",
        "section": "Action",
        "param": [ {
            "name": "SearchSource",
            "type": "Const",
            "dir": "in",
            "range": "search-local or search-remote",
            "note": "The search source to check."
        }, {
            "op": "type"
        }, {
            "name": "Index",
            "type": "Op",
            "dir": "in",
            "range": "0 to 240",
            "note": "The zero-based index of the object to set."
        } ],
        "example": [ {
            "title": "Set the target object to the first result from the local search.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-find-local c: villager-class c: 3)\r\n\t(up-set-target-object search-local c: 0)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-set-target-by-id",
        "description": "Set the target object for other commands by id.",
        "note": "Reference it with up-get-point and position-object. If the Id is invalid, the current target object will remain unchanged. This command can be used as either a Fact or an Action.",
        "section": "Action",
        "param": [ {
            "op": "type"
        }, {
            "name": "Id",
            "type": "Op",
            "dir": "in",
            "range": "a valid Id",
            "note": "The zero-based id of the object to set."
        } ],
        "example": [ {
            "title": "Set the target object by a specific id obtained from up-get-object-data.",
            "data": "(defconst gl-stored-id 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-object-data object-data-id gl-stored-id)\r\n\t(up-set-target-by-id g: gl-stored-id)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-get-object-data",
        "description": "Get specific information about the selected target object.",
        "note": "This command can be used as either a Fact or an Action.",
        "section": "Action",
        "param": [ {
            "name": "ObjectData",
            "type": "Const",
            "dir": "in",
            "range": "a value from the ObjectData enumeration",
            "note": "The type of data to retrieve."
        }, {
            "name": "Data",
            "type": "Goal",
            "dir": "out",
            "range": "a valid GoalId",
            "note": "Stores the result or -2 to indicate failure."
        } ],
        "example": [ {
            "title": "Get the class id of the target object.",
            "data": "(defconst gl-data 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-object-data object-data-class gl-data)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-object-data",
        "description": "Check specific information about the selected target object.",
        "note": "",
        "section": "Fact",
        "param": [ {
            "name": "ObjectData",
            "type": "Const",
            "dir": "in",
            "range": "a value from the ObjectData enumeration",
            "note": "The type of data to retrieve."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        } ],
        "example": [ {
            "title": "Check if the target-object holds more than 3 units.",
            "data": "(defrule\r\n\t(up-object-data object-data-garrison-count &gt; 3)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        } ],
        "related": []
    }, {
        "name": "up-can-search",
        "description": "Check the status for either the local or remote search.",
        "note": "If the result list is full or the index offset is at the end of the player object list, this will return false.",
        "section": "Fact",
        "param": [ {
            "name": "SearchSource",
            "type": "Const",
            "dir": "in",
            "range": "search-local or search-remote",
            "note": "The search source to check."
        } ],
        "example": [ {
            "title": "Check if up-reset-search must be executed before up-find-local.",
            "data": "(defrule\r\n\t(not(up-can-search search-local))\r\n=&gt;\r\n\t(up-reset-search 1 1 0 0)\r\n)"
        } ],
        "related": []
    }


    , {
        "name": "up-get-object-target-data",
        "description": "Get specific information about the target object's target.",
        "note": "This command can be used as either a Fact or an Action.",
        "section": "Action",
        "param": [{
            "name": "ObjectData",
            "type": "Const",
            "dir": "in",
            "range": "a value from the ObjectData enumeration",
            "note": "The type of data to retrieve."
        }, {
            "name": "Data",
            "type": "Goal",
            "dir": "out",
            "range": "a valid GoalId",
            "note": "Stores the result or -2 to indicate failure."
        }],
        "example": [{
            "title": "Get the class id of the target object's target.",
            "data": "(defconst gl-data 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-object-target-data object-data-class gl-data)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-object-target-data",
        "description": "Check specific information about the target object's target.",
        "note": "",
        "section": "Fact",
        "param": [{
            "name": "ObjectData",
            "type": "Const",
            "dir": "in",
            "range": "a value from the ObjectData enumeration",
            "note": "The type of data to retrieve."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        }],
        "example": [{
            "title": "Check if the target object's target holds more than 3 units.",
            "data": "(defrule\r\n\t(up-object-target-data object-data-garrison-count &gt; 3)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-get-object-type-data",
        "description": "Get generic information about an object type.",
        "note": "This can be expensive, so please consider performance.",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "TypeId",
            "type": "Op",
            "dir": "in",
            "range": "a valid TypeId",
            "note": "The type id."
        }, {
            "name": "ObjectData",
            "type": "Const",
            "dir": "in",
            "range": "a value from the ObjectData enumeration",
            "note": "The type of data to retrieve."
        }, {
            "name": "Data",
            "type": "Goal",
            "dir": "out",
            "range": "a valid GoalId",
            "note": "Stores the result or -2 to indicate failure."
        }],
        "example": [{
            "title": "Get the train site for skirmisher-line.",
            "data": "(defconst gl-data 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-object-type-data c: skirmisher-line object-data-train-site gl-data)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-add-object-by-id",
        "description": "Add an object to the search results by id.",
        "note": "This command can be used as either a Fact or an Action.",
        "section": "Action",
        "param": [{
            "name": "SearchSource",
            "type": "Const",
            "dir": "in",
            "range": "search-local or search-remote",
            "note": "The search source to modify."
        }, {
            "op": "type"
        }, {
            "name": "Id",
            "type": "Op",
            "dir": "in",
            "range": "a valid Id",
            "note": "The zero-based id of the object to set."
        }],
        "example": [{
            "title": "Add an object to the local search results by a specific id.",
            "data": "(defconst gl-stored-id 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-add-object-by-id search-local g: gl-stored-id)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-can-build-line",
        "description": "Check if a building can be constructed at a point goal pair.",
        "note": "For town centers and gates, please use a FoundationId, such as town-center-foundation or gate-ascending. Do not use town-center or gate with this command.",
        "section": "Action",
        "param": [{
            "name": "EscrowState",
            "type": "Goal",
            "dir": "in",
            "range": "a goal set to with-escrow or without-escrow, or 0 for without-escrow",
            "note": "Determines whether escrowed resources are considered."
        }, {
            "name": "Point1",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to store the (x,y) pair."
        }, {
            "op": "type"
        }, {
            "name": "BuildingId",
            "type": "Op",
            "dir": "in",
            "range": "a BuildingId",
            "note": "The building type that will be constructed."
        }],
        "example": [{
            "title": "Check if a palisade-wall can be constructed without escrow.",
            "data": "(defconst gl-point-x 100)\r\n(defconst gl-point-y 101)\r\n(defrule\r\n\t(up-can-build-line 0 gl-point-x c: palisade-wall)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-build-line",
        "description": "Place a line of buildings between two point goal pairs.",
        "note": "For town centers and gates, please use a FoundationId, such as town-center-foundation or gate-ascending. Do not use town-center or gate with this command.",
        "section": "Action",
        "param": [{
            "name": "Point1",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to store the (x,y) pair."
        }, {
            "name": "Point2",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "op": "type"
        }, {
            "name": "BuildingId",
            "type": "Op",
            "dir": "in",
            "range": "a BuildingId",
            "note": "The building type that will be constructed."
        }],
        "example": [{
            "title": "Build a palisade wall between 2 points.",
            "data": "(defconst gl-point-x 100)\r\n(defconst gl-point-y 101)\r\n(defconst gl-other-x 200)\r\n(defconst gl-other-y 201)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-build-line gl-point-x gl-other-x c: palisade-wall)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-jump-dynamic",
        "description": "Jump dynamically within the current rule set.",
        "note": "Never use this command where #load blocks may make your jump target unreliable. Please ensure that the rule you are jumping to actually exists. With this action, you can either decrease rules per pass with intelligent skips, or greatly increase it with loops. Please consider game performance.",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "RuleDelta",
            "type": "Op",
            "dir": "in",
            "range": "the number of rules to jump",
            "note": "Positive values will jump forward, while negative values will jump backward."
        }],
        "example": [{
            "title": "Skip 1 rule if a condition is true.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-jump-dynamic c: 1)\r\n)\r\n(defrule ; this rule is skipped\r\n\t(true)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-jump-direct",
        "description": "Jump directly within the current rule set.",
        "note": "Please ensure that the rule you are jumping to actually exists. You can use up-get-rule-id to get a valid rule id to jump to. With this action, you can either decrease rules per pass with intelligent skips, or greatly increase it with loops. Please consider game performance.",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "RuleId",
            "type": "Op",
            "dir": "in",
            "range": "a valid zero-based rule id",
            "note": "Please do not attempt to jump to a negative rule id."
        }],
        "example": [{
            "title": "Skip to the second rule of the AI if a condition is true.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-jump-direct c: 2)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-get-rule-id",
        "description": "Get the zero-based id for the current rule within the rule set.",
        "note": "This id can be used with up-jump-direct to precisely control jump destinations.",
        "section": "Action",
        "param": [{
            "name": "RuleId",
            "type": "Goal",
            "dir": "out",
            "range": "a valid GoalId",
            "note": "Stores the current zero-based rule id."
        }],
        "example": [{
            "title": "Get the current rule id.",
            "data": "(defconst gl-current-rule-id 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-rule-id gl-current-rule-id)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-get-guard-state",
        "description": "Get the guard state into 4 consecutive extended goals.",
        "note": "The goals will be filled with data in the following order: TypeId, ResourceAmount, ResourceDelta, GuardFlags. Please use up-compare-flag to check the guard flags. If guard-flag-resource is set in GuardFlags, then ResourceDelta/100 will slowly be added to ResourceAmount as long as TypeId objects remain. If both guard-flag-resource and guard-flag-inverse are set, then the resources will be added only when there are no TypeId objects left. If the guard-flag-victory condition is set, the AI will be defeated if no TypeId objects remain.",
        "section": "Action",
        "param": [{
            "name": "State",
            "type": "Goal",
            "dir": "out",
            "range": "an extended GoalId from 41 to 508",
            "note": "The first of 4 consecutive goals to read the state."
        }],
        "example": [{
            "title": "Check if the AI will be defeated if the guard type is lost.",
            "data": "(defconst gl-guard-type 100)\r\n(defconst gl-guard-resource 101)\r\n(defconst gl-guard-delta 102)\r\n(defconst gl-guard-flags 103)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-guard-state gl-guard-type)\r\n)\r\n(defrule\r\n\t(up-compare-flag gl-guard-flags == guard-flag-victory)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }, {
            "title": "Check if the AI will gain resources while protecting the guard type.",
            "data": "(defconst gl-guard-type 100)\r\n(defconst gl-guard-resource 101)\r\n(defconst gl-guard-delta 102)\r\n(defconst gl-guard-flags 103)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-guard-state gl-guard-type)\r\n)\r\n(defrule\r\n\t(up-compare-goal gl-guard-delta > 0)\r\n\t(up-compare-flag gl-guard-flags == guard-flag-resource)\r\n\t(up-compare-flag gl-guard-flags != guard-flag-inverse)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-compare-text",
        "description": "Perform a string comparison with the stored text.",
        "note": "You must store text before using this command and the provided string parameter must be a text defconst. If the provided string cannot be found anywhere in the stored text, the value will be -1. Otherwise, the value will be the index of the match.",
        "section": "Fact",
        "param": [{
            "op": "type"
        }, {
            "name": "Text",
            "type": "Op",
            "dir": "in",
            "range": "a text defconst",
            "note": "The text to match."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-1 to 32767",
            "note": "The number that will be used in the operation."
        }],
        "example": [{
            "title": "Check if player 1 has &quot;one&quot; in their name.",
            "data": "(defconst text-name-one &quot;one&quot;)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-store-player-name 1)\r\n)\r\n(defrule\r\n\t(up-compare-text c: text-name-one >= 0)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-compare-flag",
        "description": "Perform a bitwise flag test with a goal variable.",
        "note": "Flags allow multiple states to be stored in a single value by using powers of 2 (1, 2, 4, 8, 16, etc.). You can use [cgs]:== to see if a flag is stored or [cgs]:!= to see if it isn't stored.",
        "section": "Fact",
        "param": [{
            "name": "Id",
            "type": "Goal",
            "dir": "in",
            "range": "a GoalId",
            "note": "The goal that will be compared."
        }, {
            "op": "compare"
        }, {
            "name": "Flag",
            "type": "Op",
            "dir": "in",
            "range": "a valid flag",
            "note": "A flag to check."
        }],
        "example": [{
            "title": "Check if the goal named &quot;gl-guard-flag&quot; contains the flag for guard-flag-resource.",
            "data": "(defconst gl-guard-flag 103)\r\n(defrule\r\n\t(up-compare-flag gl-guard-flag == guard-flag-resource)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-modify-flag",
        "description": "Modify a bitwise flag on the value stored in a goal variable.",
        "note": "Flags allow multiple states to be stored in a single value by using powers of 2 (1, 2, 4, 8, 16, etc.). The only ops allowed are [cgs]:+ to append a flag and [cgs]:- to remove a flag.",
        "section": "Action",
        "param": [{
            "name": "Id",
            "type": "Goal",
            "dir": "io",
            "range": "a GoalId",
            "note": "The goal that will be modified."
        }, {
            "op": "math"
        }, {
            "name": "Flag",
            "type": "Op",
            "dir": "in",
            "range": "a valid flag",
            "note": "The flag that will be used in the operation."
        }],
        "example": [{
            "title": "Append a flag to the value stored in &quot;gl-settings&quot;.",
            "data": "(defconst gl-settings 101)\r\n(defconst first-state 1)\r\n(defconst second-state 2)\r\n(defconst third-state 4)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-modify-flag gl-settings c:+ second-state)\r\n\t(disable-self)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-tribute-to-player",
        "description": "Tribute a variable amount of resources to other players.",
        "note": "",
        "section": "Action",
        "param": [{
            "name": "Any",
            "type": "Player",
            "dir": "in",
            "range": "a PlayerId for: any",
            "note": "The player(s) to tribute."
        }, {
            "name": "ResourceAmount",
            "type": "Const",
            "dir": "in",
            "range": "a const from the ResourceAmount enumeration",
            "note": "The resource that will be modified."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "0 to 32767",
            "note": "The amount of resources."
        }],
        "example": [{
            "title": "Send 100 food to the focus-player.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(set-strategic-number sn-focus-player-number 2)\r\n\t(up-tribute-to-player focus-player food c: 100)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-buy-commodity",
        "description": "Buy a variable amount of resources at the market.",
        "note": "The actual amount you receive depends on available gold.",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "ResourceAmount",
            "type": "Op",
            "dir": "in",
            "range": "a const from the ResourceAmount enumeration",
            "note": "The resource that will be modified."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "1 to 32767",
            "note": "The amount of resources."
        }],
        "example": [{
            "title": "Attempt to buy 300 food at the market.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-buy-commodity c: food c: 300)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-sell-commodity",
        "description": "Sell a variable amount of resources at the market.",
        "note": "The actual amount you sell depends on available resources.",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "ResourceAmount",
            "type": "Op",
            "dir": "in",
            "range": "a const from the ResourceAmount enumeration",
            "note": "The resource that will be modified."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "1 to 32767",
            "note": "The amount of resources."
        }],
        "example": [{
            "title": "Attempt to sell 200 wood at the market.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-sell-commodity c: wood c: 200)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-cc-add-resource",
        "description": "Add resources dynamically to the player stockpile.",
        "note": "This is considered a cheat command, but cheats do not have to be enabled.",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "ResourceAmount",
            "type": "Op",
            "dir": "in",
            "range": "a const from the ResourceAmount enumeration",
            "note": "The resource that will be modified."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The amount of resources."
        }],
        "example": [{
            "title": "Add 100 food to the stockpile.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-cc-add-resource c: food c: 100)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-log-data",
        "description": "Write a formatted text line to aoelog.txt.",
        "note": "Set Plain to 1 in order to write plain text. You must close the game in order to open aoelog.txt, which is located in the game folder. Please consider game performance when writing data.",
        "section": "Action",
        "param": [{
            "name": "Plain",
            "type": "Const",
            "dir": "in",
            "range": "0 or 1",
            "note": "A value to determine whether the data is formatted or plain text."
        }, {
            "name": "Format",
            "type": "Text",
            "dir": "in",
            "range": "quoted text, where %d is replaced by the provided value",
            "note": "A formatted quote of text that will be logged."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The value that will replace %d in the format string of text."
        }],
        "example": [{
            "title": "Log the player number.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-log-data 0 &quot;Player number: %d&quot; c: my-player-number)\r\n\t(disable-self)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-get-precise-time",
        "description": "Get a system timestamp or the elapsed time into a goal.",
        "note": "",
        "section": "Action",
        "param": [{
            "name": "Start",
            "type": "Goal",
            "dir": "in",
            "range": "a valid GoalId to get elapsed time, or 0 to get a timestamp",
            "note": "Determines whether a timestamp or elapsed time is retrieved."
        }, {
            "name": "Time",
            "type": "Goal",
            "dir": "out",
            "range": "a valid GoalId",
            "note": "Stores the time data."
        }],
        "example": [{
            "title": "Get the current timestamp.",
            "data": "(defconst gl-start-time 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-precise-time 0 gl-start-time)\r\n\t(disable-self)\r\n)"
        }, {
            "title": "Get the elapsed time since the starting timestamp.",
            "data": "(defconst gl-start-time 100)\r\n(defconst gl-elapsed-time 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-precise-time gl-start-time gl-elapsed-time)\r\n\t(disable-self)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-get-signal",
        "description": "Get the value of a scenario trigger signal.",
        "note": "",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "SignalId",
            "type": "Op",
            "dir": "in",
            "range": "0 to 255",
            "note": "The signal to get."
        }, {
            "name": "Value",
            "type": "Goal",
            "dir": "out",
            "range": "a valid GoalId",
            "note": "Stores the signal value."
        }],
        "example": [{
            "title": "Get the value of signal id 0.",
            "data": "(defconst gl-value 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-signal c: 0 gl-value)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-set-signal",
        "description": "Set the value of a scenario trigger signal.",
        "note": "",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "SignalId",
            "type": "Op",
            "dir": "in",
            "range": "0 to 255",
            "note": "The signal to set."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The new value for the signal."
        }],
        "example": [{
            "title": "Set the value of signal id 1 to 0.",
            "data": "(defconst gl-value 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-set-signal c: 1 c: 0)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-get-event",
        "description": "Get the value of a scenario trigger event.",
        "note": "",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "EventId",
            "type": "Op",
            "dir": "in",
            "range": "0 to 255",
            "note": "The event to get."
        }, {
            "name": "Value",
            "type": "Goal",
            "dir": "out",
            "range": "a valid GoalId",
            "note": "Stores the event value."
        }],
        "example": [{
            "title": "Get the value of event id 0.",
            "data": "(defconst gl-value 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-event c: 0 gl-value)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-set-event",
        "description": "Set the value of a scenario trigger event.",
        "note": "",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "EventId",
            "type": "Op",
            "dir": "in",
            "range": "0 to 255",
            "note": "The event to set."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The new value for the event."
        }],
        "example": [{
            "title": "Set the value of event id 1 to 0.",
            "data": "(defconst gl-value 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-set-event c: 1 c: 0)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-get-shared-goal",
        "description": "Get the value of a shared goal.",
        "note": "",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "SharedGoalId",
            "type": "Op",
            "dir": "in",
            "range": "1 to 256",
            "note": "The shared goal to get."
        }, {
            "name": "Value",
            "type": "Goal",
            "dir": "out",
            "range": "a valid GoalId",
            "note": "Stores the shared goal value."
        }],
        "example": [{
            "title": "Get the value of shared goal id 0.",
            "data": "(defconst gl-value 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-shared-goal c: 0 gl-value)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-set-shared-goal",
        "description": "Set the value of a shared goal.",
        "note": "",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "SharedGoalId",
            "type": "Op",
            "dir": "in",
            "range": "1 to 256",
            "note": "The shared goal to set."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The new value for the shared goal."
        }],
        "example": [{
            "title": "Set the value of shared goal id 1 to 0.",
            "data": "(defconst gl-value 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-set-shared-goal c: 1 c: 0)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-get-indirect-goal",
        "description": "Get the value of a goal indirectly by reference.",
        "note": "",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "GoalId",
            "type": "Op",
            "dir": "in",
            "range": "1 to 512",
            "note": "The goal to get."
        }, {
            "name": "Value",
            "type": "Goal",
            "dir": "out",
            "range": "a valid GoalId",
            "note": "Stores the goal value."
        }],
        "example": [{
            "title": "Get the value of goal id 1 indirectly using goal id 10.",
            "data": "(defconst gl-value 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(set-goal 10 1)\r\n\t(up-get-indirect-goal g: 10 gl-value)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-set-indirect-goal",
        "description": "Set the value of a goal indirectly by reference.",
        "note": "",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "GoalId",
            "type": "Op",
            "dir": "in",
            "range": "1 to 512",
            "note": "The goal to set."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The new value for the goal."
        }],
        "example": [{
            "title": "Set the value of goal id 2 to 128 indirectly using goal id 10.",
            "data": "(defconst gl-value 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(set-goal 10 2)\r\n\t(up-set-indirect-goal g: 10 c: 128)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-get-timer",
        "description": "Get the trigger time for a timer in milliseconds.",
        "note": "",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "TimerId",
            "type": "Op",
            "dir": "in",
            "range": "1 to 50",
            "note": "The timer to get."
        }, {
            "name": "Value",
            "type": "Goal",
            "dir": "out",
            "range": "a valid GoalId",
            "note": "Stores the shared goal value."
        }],
        "example": [{
            "title": "Get the trigger time for timer id 20.",
            "data": "(defconst gl-value 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-timer c: 20 gl-value)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-set-timer",
        "description": "Disable or enable a timer by interval.",
        "note": "Set Value to -1 to disable the timer. If Value is positive, this will perform like the enable-timer action.",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "TimerId",
            "type": "Op",
            "dir": "in",
            "range": "1 to 50",
            "note": "The timer to set."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-1 to 32767",
            "note": "The new value for the timer."
        }],
        "example": [{
            "title": "Enable timer 20 to trigger in 10 seconds.",
            "data": "(defconst gl-value 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-set-timer c: 20 c: 10)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-get-upgrade-id",
        "description": "Get the upgrade type id for an object into a goal.",
        "note": "",
        "section": "Action",
        "param": [{
            "name": "Any",
            "type": "Player",
            "dir": "in",
            "range": "a single PlayerId for: self, this-any",
            "note": "The player to get."
        }, {
            "name": "Count",
            "type": "Const",
            "dir": "in",
            "range": "0 or 1",
            "note": "Set to 1 to get the current type id for counting."
        }, {
            "name": "TypeId",
            "type": "Goal",
            "dir": "in",
            "range": "a valid GoalId",
            "note": "Set to a valid type or line id."
        }, {
            "name": "UpgradeId",
            "type": "Goal",
            "dir": "out",
            "range": "a valid GoalId",
            "note": "Stores the upgrade type id."
        }],
        "example": [{
            "title": "Get the current upgrade type id for militia.",
            "data": "(defconst gl-type 100)\r\n(defconst gl-upgrade 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(set-goal gl-type militiaman-line)\r\n\t(up-get-upgrade-id my-player-number 0 gl-type gl-upgrade)\r\n\t(up-store-type-name g: gl-upgrade)\r\n\t(up-chat-data-to-all &quot;Upgrade: %s&quot; c: 7031232)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-get-player-color",
        "description": "Get the color id and store the name in the internal buffer.",
        "note": "ColorId will range from 1 to 8. The buffer can be referenced by the chat-data commands using %s instead of %d with c: 7031232 (7031232 cannot be stored in a defconst). This buffer is shared by all AIs, so please store data before using it in a rule pass.",
        "section": "Action",
        "param": [{
            "name": "Any",
            "type": "Player",
            "dir": "in",
            "range": "a single PlayerId for: self, this-any",
            "note": "The player to get."
        }, {
            "name": "ColorId",
            "type": "Goal",
            "dir": "out",
            "range": "a valid GoalId",
            "note": "Stores the color id."
        }],
        "example": [{
            "title": "Get the color of the target-player.",
            "data": "(defconst gl-value 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-player-color target-player gl-value)\r\n\t(up-chat-data-to-all &quot;Target: %s&quot; c: 7031232)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-store-text",
        "description": "Store a language string in the internal buffer.",
        "note": "The buffer can be referenced by the chat-data commands using %s instead of %d with c: 7031232 (7031232 cannot be stored in a defconst). This buffer is shared by all AIs, so please store data before using it in a rule pass.",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "LanguageId",
            "type": "Op",
            "dir": "in",
            "range": "a valid LanguageId",
            "note": "The text string."
        }],
        "example": [{
            "title": "Store 'Random' in the buffer.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-store-text c: 10230) ;10230 is the language id for Random\r\n\t(up-chat-data-to-all &quot;Text: %s&quot; c: 7031232)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-store-player-chat",
        "description": "Store a player chat message in the internal buffer.",
        "note": "Note that only the last word of a chat message will be stored in the buffer and the message must be present in the host's chat history log (the PageUp key can find it). The buffer can be referenced by the chat-data commands using %s instead of %d with c: 7031232 (7031232 cannot be stored in a defconst). This buffer is shared by all AIs, so please store data before using it in a rule pass.",
        "section": "Action",
        "param": [{
            "name": "Any",
            "type": "Player",
            "dir": "in",
            "range": "a single PlayerId for: self, this-any",
            "note": "The player to get."
        }],
        "example": [{
            "title": "Store the focus-player's chat in the buffer.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-store-player-chat focus-player)\r\n\t(up-chat-data-to-all &quot;Message: %s&quot; c: 7031232)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-store-player-name",
        "description": "Store a player name in the internal buffer.",
        "note": "The buffer can be referenced by the chat-data commands using %s instead of %d with c: 7031232 (7031232 cannot be stored in a defconst). This buffer is shared by all AIs, so please store data before using it in a rule pass.",
        "section": "Action",
        "param": [{
            "name": "Any",
            "type": "Player",
            "dir": "in",
            "range": "a single PlayerId for: self, this-any",
            "note": "The player to get."
        }],
        "example": [{
            "title": "Store the focus-player's name in the buffer.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-store-player-name focus-player)\r\n\t(up-chat-data-to-all &quot;Player: %s&quot; c: 7031232)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-store-type-name",
        "description": "Store an object type name in the internal buffer.",
        "note": "The buffer can be referenced by the chat-data commands using %s instead of %d with c: 7031232 (7031232 cannot be stored in a defconst). This buffer is shared by all AIs, so please store data before using it in a rule pass.",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "TypeId",
            "type": "Op",
            "dir": "in",
            "range": "a valid TypeId",
            "note": "The type id."
        }],
        "example": [{
            "title": "Store the proper name for barracks in the buffer.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-store-type-name c: barracks)\r\n\t(up-chat-data-to-all &quot;Type: %s&quot; c: 7031232)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-store-tech-name",
        "description": "Store a research tech name in the internal buffer.",
        "note": "The buffer can be referenced by the chat-data commands using %s instead of %d with c: 7031232 (7031232 cannot be stored in a defconst). This buffer is shared by all AIs, so please store data before using it in a rule pass.",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "TechId",
            "type": "Op",
            "dir": "in",
            "range": "a valid TechId",
            "note": "The tech id."
        }],
        "example": [{
            "title": "Store the unique research name in the buffer.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-store-tech-name c: my-unique-research)\r\n\t(up-chat-data-to-all &quot;Tech: %s&quot; c: 7031232)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-store-object-name",
        "description": "Store the target object's type name in the internal buffer.",
        "note": "The buffer can be referenced by the chat-data commands using %s instead of %d with c: 7031232 (7031232 cannot be stored in a defconst). This buffer is shared by all AIs, so please store data before using it in a rule pass.",
        "section": "Action",
        "param": [],
        "example": [{
            "title": "Store the type name for object id 0 in the buffer.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-set-target-by-id c: 0)\r\n\t(up-store-object-name)\r\n\t(up-chat-data-to-all &quot;Object: %s&quot; c: 7031232)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-store-map-name",
        "description": "Store the current map name in the internal buffer.",
        "note": "For rms, this is the filename of the map. However, if the map is a dynamic loader, such as Full Random, Random Land Map, or Blind Random, this will be the loader name instead of the actual map name. For scenarios, this will be the original save filename instead of the current filename. The buffer can be referenced by the chat-data commands using %s instead of %d with c: 7031232 (7031232 cannot be stored in a defconst). This buffer is shared by all AIs, so please store data before using it in a rule pass.",
        "section": "Action",
        "param": [{
            "name": "Extension",
            "type": "Const",
            "dir": "in",
            "range": "0 or 1",
            "note": "Set to 1 to include the map file extension."
        }],
        "example": [{
            "title": "Store the current map name in the buffer.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-store-map-name 0)\r\n\t(up-chat-data-to-all &quot;Map: %s&quot; c: 7031232)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-clean-search",
        "description": "Removes duplicate ids or sorts the search results.",
        "note": "If ObjectData is set to -1, this will attempt to remove duplicates, lowering the result total. When removing duplicates, using search-order-none to preserve the existing order may perform slower than with asc/desc. If you wish to sort by ObjectData, it's best to remove duplicates first. Depending on the number of objects in the list, this command may be expensive, so please take care.",
        "section": "Action",
        "param": [{
            "name": "SearchSource",
            "type": "Const",
            "dir": "in",
            "range": "search-local or search-remote",
            "note": "The search source to modify."
        }, {
            "name": "ObjectData",
            "type": "Const",
            "dir": "in",
            "range": "a value from the ObjectData enumeration",
            "note": "The type of data to retrieve or -1 to enable duplicate removal."
        }, {
            "name": "SearchOrder",
            "type": "Const",
            "dir": "in",
            "range": "a const from the SearchOrder enumeration",
            "note": "The sort order."
        }],
        "example": [{
            "title": "Clean the remote search results, ordered by oldest object to newest. After that, sort the list by hitpoints.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-clean-search search-remote -1 search-order-asc)\r\n\t(up-clean-search search-remote object-data-hitpoints search-order-asc)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-remove-objects",
        "description": "Removes objects from the search results based on specific data.",
        "note": "If ObjectData is set to -1, the object index in the search results will be used for data comparison when performing removal.",
        "section": "Action",
        "param": [{
            "name": "SearchSource",
            "type": "Const",
            "dir": "in",
            "range": "search-local or search-remote",
            "note": "The search source to modify."
        }, {
            "name": "ObjectData",
            "type": "Const",
            "dir": "in",
            "range": "a value from the ObjectData enumeration",
            "note": "The type of data to retrieve or -1 to use the object index."
        }, {
            "op": "type"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "The amount of resources."
        }],
        "example": [{
            "title": "Remove objects from the local search results with less than 20 hitpoints.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-remove-objects search-local object-data-hitpoints < 20)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-get-point-contains",
        "description": "Get the id if an object exists at a point goal pair position.",
        "note": "Set Point to 0 to use the point that is stored by up-set-target-point. Please note that when used with all-units-class (-1), this may capture unexpected objects like birds flying over a tile, terrain plants, etc. This command can be used as either a Fact or an Action.",
        "section": "Action",
        "param": [{
            "name": "Point",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "name": "Id",
            "type": "Goal",
            "dir": "out",
            "range": "a valid GoalId",
            "note": "The zero-based id of the object."
        }, {
            "op": "type"
        }, {
            "name": "ObjectId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId or BuildingId",
            "note": "The object to check."
        }],
        "example": [{
            "title": "Get the id of a tree if it exists at the map center.",
            "data": "(defconst gl-center-x 100)\r\n(defconst gl-center-y 101)\r\n(defconst gl-tree-id 102)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-center gl-center-x)\r\n)\r\n(defrule\r\n\t(up-get-point-contains gl-center-x gl-tree-id c: tree-class) ; tree-class = 915\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-point-explored",
        "description": "Check if a point on the map has been explored.",
        "note": "Set Point to 0 to use the point that is stored by up-set-target-point.",
        "section": "Fact",
        "param": [{
            "name": "Point",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "op": "type"
        }, {
            "name": "ExploredState",
            "type": "Op",
            "dir": "in",
            "range": "explored-no, explored-yes, or explored-active",
            "note": "The exploration state of the point."
        }],
        "example": [{
            "title": "Check if the map center point has been explored.",
            "data": "(defconst gl-center-x 100)\r\n(defconst gl-center-y 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-center gl-center-x)\r\n)\r\n(defrule\r\n\t(up-point-explored gl-center-x != explored-no)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-get-point-elevation",
        "description": "Get the elevation for a tile with a point goal pair.",
        "note": "",
        "section": "Action",
        "param": [{
            "name": "Point",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "name": "Data",
            "type": "Goal",
            "dir": "out",
            "range": "a valid GoalId",
            "note": "Stores the result or -2 to indicate failure."
        }],
        "example": [{
            "title": "Get the elevation at the map center.",
            "data": "(defconst gl-center-x 100)\r\n(defconst gl-center-y 101)\r\n(defconst gl-center-z 200)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-center gl-center-x)\r\n\t(up-get-point-elevation gl-center-x gl-center-z)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-point-elevation",
        "description": "Check the elevation for a tile with a point goal pair.",
        "note": "",
        "section": "Fact",
        "param": [{
            "name": "Point",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        }],
        "example": [{
            "title": "Check the elevation at the map center.",
            "data": "(defconst gl-center-x 100)\r\n(defconst gl-center-y 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-center gl-center-x)\r\n)\r\n(defrule\r\n\t(up-point-elevation gl-center-x > 1)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-get-point-zone",
        "description": "Get the zone for a tile with a point goal pair.",
        "note": "Zone ids may differ if you have no villagers.",
        "section": "Action",
        "param": [{
            "name": "Point",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "name": "Data",
            "type": "Goal",
            "dir": "out",
            "range": "a valid GoalId",
            "note": "Stores the result or -2 to indicate failure."
        }],
        "example": [{
            "title": "Get the zone at the map center.",
            "data": "(defconst gl-center-x 100)\r\n(defconst gl-center-y 101)\r\n(defconst gl-center-z 200)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-center gl-center-x)\r\n\t(up-get-point-zone gl-center-x gl-center-z)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-point-zone",
        "description": "Check the zone for a tile with a point goal pair.",
        "note": "Zone ids may differ if you have no villagers.",
        "section": "Fact",
        "param": [{
            "name": "Point",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        }],
        "example": [{
            "title": "Check the zone at the map center.",
            "data": "(defconst gl-center-x 100)\r\n(defconst gl-center-y 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-center gl-center-x)\r\n)\r\n(defrule\r\n\t(up-point-zone gl-center-x > 1)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-bound-point",
        "description": "Copy a point goal pair and shift it into the map bounds.",
        "note": "",
        "section": "Action",
        "param": [{
            "name": "Point1",
            "type": "Goal",
            "dir": "out",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to store the (x,y) pair."
        }, {
            "name": "Point2",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }],
        "example": [{
            "title": "Copy and shift a point into the map bounds.",
            "data": "(defconst gl-point-x 100)\r\n(defconst gl-point-y 101)\r\n(defconst gl-store-x 200)\r\n(defconst gl-store-y 201)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-object gl-point-x)\r\n\t(up-bound-point gl-store-x gl-point-x)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-bound-precise-point",
        "description": "Bound a point goal pair inside the map with additional control.",
        "note": "Please ensure that Border is a valid value and will not cause an overflow for the map size. If Precise is used, the map size will be multiplied by 100 before bounding, so the border should be adjusted accordingly.",
        "section": "Action",
        "param": [{
            "name": "Point",
            "type": "Goal",
            "dir": "io",
            "range": "an extended GoalId from 41 to 510",
            "note": "The first of 2 consecutive goals to read and store the (x,y) pair."
        }, {
            "name": "Precise",
            "type": "Const",
            "dir": "in",
            "range": "0 or 1",
            "note": "Set to 1 to bound as a precise point (x100)."
        }, {
            "op": "type"
        }, {
            "name": "Border",
            "type": "Op",
            "dir": "in",
            "range": "0 to 32767",
            "note": "The border width for bounding the point."
        }],
        "example": [{
            "title": "Bound a point inside the map with a 10 tile border.",
            "data": "(defconst gl-point-x 100)\r\n(defconst gl-point-y 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-object gl-point-x)\r\n\t(up-bound-precise-point gl-point-x 0 c: 10)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-get-path-distance",
        "description": "Get the distance from the target object to a specified point goal pair.",
        "note": "This will return 65535 if the point is unreachable.",
        "section": "Action",
        "param": [{
            "name": "Point",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "name": "Strict",
            "type": "Const",
            "dir": "in",
            "range": "0 or 1",
            "note": "Set to 1 to require an open destination tile or 0 to allow for a few tiles of separation."
        }, {
            "name": "Data",
            "type": "Goal",
            "dir": "out",
            "range": "a valid GoalId",
            "note": "Stores the result or -2 to indicate failure."
        }],
        "example": [{
            "title": "Get the path distance to the map center.",
            "data": "(defconst gl-center-x 100)\r\n(defconst gl-center-y 101)\r\n(defconst gl-distance 200)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-center gl-center-x)\r\n\t(up-get-path-distance gl-center-x 0 gl-distance)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-path-distance",
        "description": "Check the distance from the target object to a specified point goal pair.",
        "note": "The distance will be 65535 if the point is unreachable.",
        "section": "Fact",
        "param": [{
            "name": "Point",
            "type": "Goal",
            "dir": "in",
            "range": "an extended GoalId from 41 to 510, or 0 to read the point set by up-set-target-point",
            "note": "The first of 2 consecutive goals to read an (x,y) pair."
        }, {
            "name": "Strict",
            "type": "Const",
            "dir": "in",
            "range": "0 or 1",
            "note": "Set to 1 to require an open destination tile or 0 to allow for a few tiles of separation."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        }],
        "example": [{
            "title": "Check if the stored object can reach the specified point.",
            "data": "(defconst gl-center-x 100)\r\n(defconst gl-center-y 101)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-point position-center gl-center-x)\r\n)\r\n(defrule\r\n\t(up-path-distance gl-center-x 0 != 65535)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-reset-group",
        "description": "Clear all units in a search group.",
        "note": "",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "GroupId",
            "type": "Op",
            "dir": "in",
            "range": "0 to 9",
            "note": "The group id."
        }],
        "example": [{
            "title": "Reset the first search group.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-reset-group c: 0)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-create-group",
        "description": "Create a search group from the local search results.",
        "note": "If there are no units available in the results list to create the specified group, the group will be cleared in the same way as up-reset-group.",
        "section": "Action",
        "param": [{
            "name": "Index",
            "type": "Goal",
            "dir": "in",
            "range": "a valid GoalId, or 0 for index 0",
            "note": "The zero-based index of the first local search result."
        }, {
            "name": "Count",
            "type": "Goal",
            "dir": "in",
            "range": "a valid GoalId, or 0 for count 40",
            "note": "The maximum number of objects."
        }, {
            "op": "type"
        }, {
            "name": "GroupId",
            "type": "Op",
            "dir": "in",
            "range": "0 to 9",
            "note": "The group id."
        }],
        "example": [{
            "title": "Create a search group of up to 10 villagers.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-reset-search 1 1 1 1)\r\n\t(up-reset-filters)\r\n\t(up-find-local c: villager-class c: 10)\r\n\t(up-create-group 0 0 c: 0)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-set-group",
        "description": "Set the local or remote search results to a search group.",
        "note": "",
        "section": "Action",
        "param": [{
            "name": "SearchSource",
            "type": "Const",
            "dir": "in",
            "range": "search-local or search-remote",
            "note": "The search source to modify."
        }, {
            "op": "type"
        }, {
            "name": "GroupId",
            "type": "Op",
            "dir": "in",
            "range": "0 to 9",
            "note": "The group id."
        }],
        "example": [{
            "title": "Set the local results to the first search group.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-set-group search-local c: 0)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-group-size",
        "description": "Check the current number of units in a search group.",
        "note": "",
        "section": "Fact",
        "param": [{
            "op": "type"
        }, {
            "name": "GroupId",
            "type": "Op",
            "dir": "in",
            "range": "0 to 9",
            "note": "The group id."
        }, {
            "op": "compare"
        }, {
            "name": "Value",
            "type": "Op",
            "dir": "in",
            "range": "-32768 to 32767",
            "note": "A number for comparison."
        }],
        "example": [{
            "title": "Check if the first search group has units.",
            "data": "(defrule\r\n\t(up-group-size c: 0 > 0)\r\n=&gt;\r\n\t(do-nothing)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-get-group-size",
        "description": "Get the current number of units in a search group.",
        "note": "",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "GroupId",
            "type": "Op",
            "dir": "in",
            "range": "0 to 9",
            "note": "The group id."
        }, {
            "name": "Size",
            "type": "Goal",
            "dir": "out",
            "range": "a GoalId",
            "note": "Stores the group size."
        }],
        "example": [{
            "title": "Get the first search group's size.",
            "data": "(defconst gl-size 100)\r\n(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-get-group-size c: 0 gl-size)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-modify-group-flag",
        "description": "Modify the ctrl group flag for units in a search group.",
        "note": "You must manage the group flag carefully in order to avoid unexpected situations. Please remove the group flag before modifying a flagged search group. You can find units from a flagged search group using object-data-group-flag, which is set to the group id.",
        "section": "Action",
        "param": [{
            "name": "On",
            "type": "Const",
            "dir": "in",
            "range": "0 or 1",
            "note": "Set to 1 to append or 0 to remove."
        }, {
            "op": "type"
        }, {
            "name": "GroupId",
            "type": "Op",
            "dir": "in",
            "range": "0 to 9",
            "note": "The group id."
        }],
        "example": [{
            "title": "Set the group id flag for units in search group id 2.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-modify-group-flag 1 c: 2) ; object-data-group-flag will be 2\r\n)"
        }],
        "related": []
    }, {
        "name": "up-filter-status",
        "description": "Set the object status value for use with up-find-status.",
        "note": "The default (after up-reset-filters) is 2, which should match most active objects. Buildings that are incomplete have a status of 0, while certain resources have a status of 3. For remote search, up-find-remote can match enemy status values 0 to 3 if you search by object type id instead of class id.",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "ObjectStatus",
            "type": "Op",
            "dir": "in",
            "range": "a value from the ObjectStatus enumeration",
            "note": "The status value for matching."
        }, {
            "op": "type"
        }, {
            "name": "ObjectList",
            "type": "Op",
            "dir": "in",
            "range": "a value from the ObjectList enumeration",
            "note": "The list to search for local or allied objects (remote objects are handled separately)."
        }],
        "example": [{
            "title": "Configure the system and search for only incomplete castles.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-filter-status c: status-pending c: list-active)\r\n\t(up-find-status-local c: castle c: 5)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-find-status-local",
        "description": "Find objects owned by the local player filtered by status.",
        "note": "This is identical to up-find-local, except it will consider the status value set by up-filter-status. If UnitId changes, the search index offset will be reset. Otherwise, it will continue from where it left off. This command can be used as either a Fact or an Action.",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "UnitId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId",
            "note": "The unit type that will be selected."
        }, {
            "op": "type"
        }, {
            "name": "Count",
            "type": "Op",
            "dir": "in",
            "range": "0 to 240",
            "note": "The number of results to find."
        }],
        "example": [{
            "title": "Find up to 20 infantry units owned by the player.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-filter-status c: status-ready c: list-active)\r\n\t(up-find-status-local c: infantry-class c: 20) ; infantry-class = 906\r\n)"
        }],
        "related": []
    }, {
        "name": "up-find-status-remote",
        "description": "Find objects owned by the focus player for direct targeting.",
        "note": "Set sn-focus-player-number before using this command. This is identical to up-find-remote, except it will consider the status value set by up-filter-status. If the focus or UnitId changes, the search index offset will be reset. Otherwise, it will continue from where it left off. This command can be used as either a Fact or an Action.",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "UnitId",
            "type": "Op",
            "dir": "in",
            "range": "a UnitId",
            "note": "The unit type that will be selected."
        }, {
            "op": "type"
        }, {
            "name": "Count",
            "type": "Op",
            "dir": "in",
            "range": "0 to 240",
            "note": "The number of results to find."
        }],
        "example": [{
            "title": "Find up to 4 castles owned by the enemy, player 2.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(set-strategic-number sn-focus-player-number 2)\r\n\t(up-find-status-remote c: castle c: 4)\r\n)"
        }],
        "related": []
    }, {
        "name": "up-find-resource",
        "description": "Find gatherable resource objects for direct targeting.",
        "note": "This command stores data in the remote list and it will consider the status value set by up-filter-status. To find stone, gold, fallen trees, and other directly gatherable resources, status-resource is required. For standing trees and living objects, status-ready is required. Please ensure the proper status is set before searching. The remote index will reset automatically when switching between this command and other remote search commands like up-find-remote. If Resource changes, the search index offset will be reset. Otherwise, it will continue from where it left off. This command can be used as either a Fact or an Action.",
        "section": "Action",
        "param": [{
            "op": "type"
        }, {
            "name": "Resource",
            "type": "Op",
            "dir": "in",
            "range": "food, wood, stone, gold, or the UnitId of a food resource",
            "note": "The resource to find."
        }, {
            "op": "type"
        }, {
            "name": "Count",
            "type": "Op",
            "dir": "in",
            "range": "0 to 240",
            "note": "The number of results to find."
        }],
        "example": [{
            "title": "Find 2 sighted gold mines and store them in remote results.",
            "data": "(defrule\r\n\t(true)\r\n=&gt;\r\n\t(up-full-reset-search)\r\n\t(up-filter-status c: status-resource c: list-active)\r\n\t(up-find-resource c: gold c: 2)\r\n)"
        }],
        "related": []
    }]
}